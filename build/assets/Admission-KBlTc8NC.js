import{r,j as e,A as T,x as I,t as _}from"./index-DDTZZVyy.js";import{u as y}from"./useApiQuery-DtwUSdsl.js";import{b as A}from"./actions-C0XuECpJ.js";import{D as b}from"./DynamicForm-DHNHB4mr.js";import{C as a}from"./CommonClass-DJyhl18r.js";const c={MALE:"Male",FEMALE:"Female",OTHERS:"Others"},S={NIOS:"NIOS",COLLEGE:"COLLEGE",MBBS:"MBBS"},M={UNDER_TENTH:"UNDER_10TH",TENTH_PASS:"10TH_PASS",TENTH_FAIL:"10TH_FAIL",TWELFTH_PASS:"12TH_PASS",TWELFTH_FAIL:"12TH_FAIL",OTHER:"OTHER"},x={INDIA:"INDIA",ABROAD:"ABROAD"},E=({onNext:n,initialValue:t,handleFieldChange:l})=>{const o=r.useRef(),s=[{name:"first_name",label:"First Name",type:"text",required:!0,maxLength:100,inputClass:a.COMMON_INPUT,columnWidth:"col-span-3"},{name:"last_name",label:"Last Name",type:"text",required:!0,maxLength:100,inputClass:a.COMMON_INPUT,columnWidth:"col-span-3"},{name:"email",label:"Email Address",type:"email",required:!0,maxLength:100,inputClass:a.COMMON_INPUT,columnWidth:"col-span-3"},{name:"phone_no",label:"Phone Number",type:"number",required:!0,inputClass:a.COMMON_INPUT,columnWidth:"col-span-3"},{name:"gender",label:"Gender",type:"select",options:[{label:c.MALE,value:c.MALE},{label:c.FEMALE,value:c.FEMALE},{label:c.OTHERS,value:c.OTHERS}],required:!0,inputClass:a.COMMON_INPUT,columnWidth:"col-span-3"},{name:"dob",label:"Date of Birth",type:"date",required:!0,inputClass:a.COMMON_INPUT,columnWidth:"col-span-3",max:new Date().toISOString().split("T")[0]},{name:"address",label:"Address",type:"textarea",inputClass:a.COMMON_INPUT,columnWidth:"col-span-6"},{name:"city",label:"City",type:"text",inputClass:a.COMMON_INPUT,columnWidth:"col-span-2"},{name:"state",label:"State",type:"text",inputClass:a.COMMON_INPUT,columnWidth:"col-span-2"},{name:"pincode",label:"Pincode",type:"number",maxLength:"6",inputClass:a.COMMON_INPUT,columnWidth:"col-span-2"}];return e.jsx("div",{className:"w-full max-w-6xl mx-auto p-6 bg-white rounded-2xl mb-10 shadow-md",children:e.jsx(b,{ref:o,initialValues:t,formConfig:s,onSubmit:n,handleFieldChange:l,gridClass:"grid grid-cols-6 gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})},w=({onSubmit:n,initialValue:t,handleFieldChange:l})=>{const o=r.useRef(),[s,h]=r.useState([]),[p,C]=r.useState([]),{data:i}=y({queryKey:"colleges",endpoint:T.GET_ALL_COLLEGE,options:{staleTime:1e3*60*5,cacheTime:1e3*60*10,refetchOnWindowFocus:!0}}),{data:d}=y({queryKey:"courses",endpoint:T.GET_COLLEGE_SPECIFIC_COURSE,params:{collegeCourse:t==null?void 0:t.college},options:{enabled:!!(t!=null&&t.college),staleTime:1e3*60*5,cacheTime:1e3*60*10,refetchOnWindowFocus:!0}});r.useEffect(()=>{var m;h((m=i==null?void 0:i.data)==null?void 0:m.data)},[i]),r.useEffect(()=>{C(d==null?void 0:d.data)},[d]);const g=[{name:"college",label:"College",type:"select",options:s==null?void 0:s.map(m=>({label:m.name,value:m.id})),required:!0,inputClass:a.COMMON_INPUT},{name:"college_course",label:"Courses",type:"select",options:p==null?void 0:p.map(m=>({label:m.name,value:m.name})),required:!0,disabled:!(t!=null&&t.college),inputClass:a.COMMON_INPUT}];return e.jsx("div",{className:"w-full max-w-6xl mx-auto p-6 bg-white rounded-2xl mb-10 shadow-md",children:e.jsx(b,{ref:o,initialValues:t,formConfig:g,onSubmit:n,handleFieldChange:l,gridClass:"grid grid-cols-1 gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})},L=({onNext:n,initialValue:t,handleFieldChange:l})=>{const o=r.useRef(),s=[{name:"last_qualification",label:"Last Qualification",type:"select",options:[{label:"8th Standard",value:"8th"},{label:"9th Standard",value:"9th"},{label:"10th Standard",value:"10th"},{label:"11th Standard",value:"11th"},{label:"12th Standard",value:"12th"},{label:"Other",value:"other"}],required:!0,inputClass:a.COMMON_INPUT,columnWidth:"col-span-3"},{name:"school_name",label:"School/Institution Name",type:"text",required:!0,maxLength:100,inputClass:a.COMMON_INPUT,columnWidth:"col-span-3"},{name:"passing_year",label:"Year of Passing",type:"text",required:!0,maxLength:100,inputClass:a.COMMON_INPUT,columnWidth:"col-span-3"},{name:"percentage",label:"Percentage/CGPA",type:"number",required:!0,inputClass:a.COMMON_INPUT,columnWidth:"col-span-3"}];return e.jsx("div",{className:"w-full max-w-6xl mx-auto p-6 bg-white rounded-2xl mb-10 shadow-md",children:e.jsx(b,{ref:o,initialValues:t,formConfig:s,onSubmit:n,handleFieldChange:l,gridClass:"grid grid-cols-6 gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})},v=({onSubmit:n,initialValue:t,handleFieldChange:l})=>{const o=r.useRef(),s=[{name:"mbbs_location",label:"Admission For MBBS",type:"select",options:[{label:x.INDIA,value:x.INDIA},{label:x.ABROAD,value:x.ABROAD}],required:!0,inputClass:a.COMMON_INPUT}];return e.jsx("div",{className:"w-full max-w-6xl mx-auto p-6 bg-white rounded-2xl mb-10 shadow-md",children:e.jsx(b,{ref:o,initialValues:t,formConfig:s,onSubmit:n,handleFieldChange:l,gridClass:"grid grid-cols-1 gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})},P=({onSubmit:n,initialValue:t,handleFieldChange:l})=>{const o=r.useRef(),s=[{name:"nios_class_type",label:"Admission For NIOS",type:"select",options:[{label:"10TH Class",value:M.TENTH},{label:"12TH Class",value:M.TWELFTH}],required:!0,inputClass:a.COMMON_INPUT}];return e.jsx("div",{className:"w-full max-w-6xl mx-auto p-6 bg-white rounded-2xl mb-10 shadow-md",children:e.jsx(b,{ref:o,initialValues:t,formConfig:s,onSubmit:n,handleFieldChange:l,gridClass:"grid grid-cols-1 gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})},H=()=>{const n=[{label:"Personal Details"},{label:"Academic Details"},{label:"Document Upload"}],{type:t}=I(),[l,o]=r.useState(0),[s,h]=r.useState({}),p=_(),C=({currentStep:u})=>e.jsx("div",{className:"flex justify-center mb-8",children:n.map((N,O)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`rounded-full w-8 h-8 flex items-center justify-center font-bold ${O===u?"bg-[#F68713] text-white":"bg-gray-300 text-gray-700"}`,children:O+1}),O<n.length-1&&e.jsx("div",{className:"w-8 h-1 bg-gray-300 mx-2"})]},N.label))});y({queryKey:"admission",endpoint:T.GET_ALL_ADMISSION,params:{page:1,limit:20},options:{staleTime:1e3*60*5,cacheTime:1e3*60*10,refetchOnWindowFocus:!0}});const i=u=>{console.log(u),h(N=>({...N,...u}))},d=()=>{o(1)},g=()=>{o(2)},m=()=>{o(0)},f=()=>{const u={...s,type:t.toUpperCase()};p(A(u))},F=r.useCallback(()=>{switch(t.toUpperCase()){case S.NIOS:return e.jsx(P,{initialValue:s,onSubmit:f,handleFieldChange:i});case S.COLLEGE:return e.jsx(w,{initialValue:s,onSubmit:f,handleFieldChange:i});case S.MBBS:return e.jsx(v,{initialValue:s,onSubmit:f,handleFieldChange:i});default:return e.jsx("div",{children:"Invalid Type"})}},[t,s]);return e.jsxs("div",{className:"flex flex-col items-center justify-center bg-gray-100",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-blue-50 w-full p-6 rounded-lg mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-center text-[#F68713]",children:"NIOS Admission"}),e.jsx("p",{className:"text-xl text-gray-700 text-center mt-4",children:"Flexible learning opportunities with National Institute of Open Schooling"})]}),e.jsx(C,{currentStep:l}),l===0&&e.jsx(E,{initialValue:s,onNext:d,handleFieldChange:i}),l===1&&e.jsx(L,{onNext:g,handleFieldChange:i,onBack:m}),l===2&&F()]})};export{H as default};
