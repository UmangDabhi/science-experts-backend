import{r,A as f,j as e,m as s}from"./index-CYgJ5ZTk.js";import{u as x}from"./useApiQuery-erk2qelE.js";import{C as y}from"./courseComponent-BRJFJmln.js";const b=({title:d="Featured Courses",description:m="Explore our most popular and highly-rated courses"})=>{const n=r.useRef(),l=r.useRef(null),[c,u]=r.useState(!1),[t,h]=r.useState([]),{data:o,isLoading:w}=x({queryKey:"courses",endpoint:f.GET_ALL_COURSE,params:{page:1,limit:20},options:{staleTime:1e3*60*5,cacheTime:1e3*60*10,refetchOnWindowFocus:!0}});r.useEffect(()=>{var i;h((i=o==null?void 0:o.data)==null?void 0:i.data)},[o]);const p=i=>{n.current.scrollBy({left:320,behavior:"smooth"})};return r.useEffect(()=>(!c&&(t==null?void 0:t.length)>3&&(l.current=setInterval(()=>p(),3e3)),()=>clearInterval(l.current)),[c,t]),e.jsxs(s.div,{className:"flex flex-col w-full my-5",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[e.jsx(s.div,{className:"flex justify-between mx-3",initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},transition:{duration:.4},viewport:{once:!0},children:e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:d}),e.jsx("p",{className:"text-base text-gray-700",children:m})]})}),e.jsx(s.div,{ref:n,className:"flex overflow-x-auto gap-4 mx-3 my-4 pb-2 hide-scrollbar scroll-smooth items-stretch",initial:"hidden",animate:"show",variants:{hidden:{},show:{transition:{staggerChildren:.1}}},children:t==null?void 0:t.map((i,a)=>e.jsx(s.div,{className:"lg:w-[40rem] md:w-[30rem] w-64 md:min-h-24 flex-shrink-0 flex",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:a*.05},viewport:{once:!0},children:e.jsx(y,{course:i})},a))}),e.jsx(s.div,{className:"flex justify-center w-full",initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.3,duration:.5},viewport:{once:!0},children:e.jsx(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"border border-gray-300 rounded-md font-semibold px-4 py-2 hover:bg-gray-100 transition",children:"View All Courses"})})]})};export{b as C};
