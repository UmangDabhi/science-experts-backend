import{e as F,a as P,d as I,r as l,j as t,G as _,aP as b,aQ as $,aR as B,aS as U,aT as C,s as q}from"./index-1SOVWjLS.js";import{D as z}from"./DynamicForm-DQoLSg5y.js";import{A as G,R as Q}from"./ActionButtons--bF80goz.js";import{u as L,C as M}from"./useModal-CfWRPnNO.js";import{A as V}from"./AntdTable-DaByVp-F.js";import{u as X}from"./usePagination-NGBzaucT.js";import{C as Y}from"./CommonClass-DJyhl18r.js";import{S as H}from"./Search-BrcCFLC9.js";import{R as J}from"./EditOutlined-HyMhzPIx.js";import"./index-CcET_qEc.js";import"./ContextIsolator-GbFQ609C.js";import"./index-ACy-ARWx.js";import"./CloseCircleFilled-bPATCLPJ.js";import"./CheckOutlined-Cm1Ea1Gj.js";import"./SearchOutlined-CwTd0ZdT.js";const de=()=>{const{dispatch:s}=q,{languages:j,totalLanguages:y,selectedLanguage:a}=F(e=>e.language),{showToast:o}=P(),{isOpen:O,openModal:g,closeModal:w}=L(),{isOpen:S,openModal:A,closeModal:u}=L(),{theme:d}=I(),n=l.useRef(),{page:m,setPage:p,limit:h,setLimit:E,search:x,setSearch:R,fetchData:r}=X(_,{},e=>{},e=>o(e,"error"));l.useEffect(()=>{r()},[m,h,x]),l.useEffect(()=>{p(1)},[x]);const T=(e,i)=>{p(e),E(i)},N=[{title:"Language Name",dataIndex:"language",key:"language"},{title:"Action",key:"action",render:e=>t.jsx(G,{buttons:[{text:"Edit",onClick:()=>{s(b(e)),g()},icon:J,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{A(),s(b(e))},icon:Q,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],k=[Object.keys(a).length&&{name:"id",label:"id",type:"hidden"},{name:"language",label:"Language Name",type:"text",inputClass:Y.COMMON_INPUT,required:!0}],D=e=>{const i=Object.keys(a).length?$:B;s(i(e)).unwrap().then(c=>{f(),r(),o(c.message,"success")}).catch(c=>{o(c,"error")})},v=()=>{s(U(a)).unwrap().then(e=>{u(),r(),s(C()),o(e.message,"success")}).catch(e=>{o(e,"error")})};l.useEffect(()=>{n.current&&a&&n.current.resetForm({...a})},[a]);const f=()=>{w(),n.current.resetForm({language:null}),s(C())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 mt-2",children:[t.jsx("h1",{className:`text-2xl font-bold text-center ${d.PRIMARY_TEXT}`,children:"Language Management"}),t.jsxs("div",{className:"flex items-center w-1/3",children:[t.jsx(H,{displayText:"Language",setSearch:R}),t.jsx("button",{onClick:g,className:`${d.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Language"})]})]}),t.jsx(V,{columns:N,dataSource:j,current:m,pageSize:h,total:y,onChange:T}),t.jsx(M,{title:Object.keys(a).length?"Edit Language":"Add Language",isOpen:O,onCancel:f,footer:null,children:t.jsx(z,{ref:n,formConfig:k,onSubmit:D,initialValues:a,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(M,{title:"Confirm Deletion",isOpen:S,onCancel:u,onOk:v,children:t.jsx("p",{children:"Are you sure you want to delete this language?"})})]})};export{de as default};
