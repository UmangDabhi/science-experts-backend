import{j as e,al as S,u as A,d as u,a as E,r as o,an as P}from"./index-D92yZQ6n.js";import{P as k}from"./Pagination-p42V4Omo.js";import{u as B}from"./usePagination-BALTYpN7.js";import{R as C}from"./SearchOutlined-hKkyWcyn.js";const M=({material:s,handleCourseClick:a})=>e.jsxs("div",{className:"flex w-full gap-3 bg-[#FFDBC4E5] cursor-pointer",onClick:()=>a(s.id),children:[e.jsx("div",{className:"flex-shrink-0 w-1/4 h-32 overflow-hidden",children:e.jsx("img",{src:s==null?void 0:s.thumbnail_url,alt:s==null?void 0:s.title,className:"object-cover w-full h-full"})}),e.jsxs("div",{className:"flex justify-between flex-grow p-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-2xl",children:s==null?void 0:s.title}),e.jsx("p",{className:"italic",children:s==null?void 0:s.description})]}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsx("button",{className:" rounded-full bg-[#FF8F18] text-white px-5 py-1",children:"Buy Now"}),e.jsx("div",{className:"self-end mr-3 text-xl",children:e.jsxs("span",{children:[" â‚¹ ",s==null?void 0:s.amount]})})]})]})]}),_=()=>{const[s]=S(),a=A(),{materials:n,totalMaterials:h}=u(t=>t.material),{categories:d}=u(t=>t.category),{showToast:f}=E(),[l,r]=o.useState({category:"All"}),[p,g]=o.useState(null),[x,j]=o.useState({}),{page:w,setPage:b,limit:N,setLimit:R,search:$,setSearch:v,fetchData:y}=B(P,x,t=>{},t=>f(t,"error"));o.useEffect(()=>{y()},[x]),o.useEffect(()=>{const t=s.get("category")||"All",c=s.get("class")||null;r({category:t}),g(c)},[s]),o.useEffect(()=>{j(t=>{const c={...t};if((l==null?void 0:l.category)!=="All"){const i=d.find(F=>F.category===(l==null?void 0:l.category));c.category=i==null?void 0:i.id}else delete c.category;return c})},[l,p]);const m=t=>{a(`/notes/purchase/${t}`)};return e.jsxs("div",{className:"bg-gray-50 ",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-[#FB6000C4] pt-4 mb-8",children:" All Notes"}),e.jsx("div",{className:"bg-[#FF6B0FB2] p-5 my-5 h-fit w-full flex  whitespace-nowrap ",children:e.jsxs("div",{className:"flex   overflow-x-auto gap-8  hide-scrollbar",children:[e.jsx("span",{onClick:()=>{r({category:"All"})},className:`${l&&(l==null?void 0:l.category)=="All"?"bg-[#FF6200E5]  text-white":"bg-white text-black"} px-3 py-2 text-lg rounded-full cursor-pointer`,children:"All"}),d.map((t,c)=>e.jsx("span",{onClick:()=>{r(t)},className:`${l&&t.category==(l==null?void 0:l.category)?"bg-[#FF6200E5]  text-white":"bg-white text-black"} px-3 py-2 text-lg rounded-full cursor-pointer`,children:t.category}))]})}),e.jsx("div",{className:"p-5 relative my-5 h-fit w-full flex  whitespace-nowrap justify-center items-center ",children:e.jsxs("div",{className:"relative w-4/6 ",children:[e.jsx(C,{className:"text-2xl absolute left-4 top-2 text-white"}),e.jsx("input",{id:"search",className:"bg-[#FB6000] pl-14 border-2 border-solid text-white border-white focus-visible:border-white rounded-full py-2 px-3 w-full",placeholder:"Search Course",onChange:t=>v(t.target.value)})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:n==null?void 0:n.map((t,c)=>e.jsx(M,{material:t,handleCourseClick:m}))}),e.jsx(k,{total:Math.floor(h/N),goto:b,page:w})]})};export{_ as default};
