import{u as I,f as k,e as C,a as R,r as u,j as s,bL as T,bM as v,bN as w,bO as D,s as E}from"./index-9u-Z54xc.js";import{A as $,R as N}from"./ActionButtons-ts5xPPDb.js";import{u as _,C as O}from"./useModal-CD4o3hOW.js";import{A as P}from"./AntdTable-Bx8Jx1yt.js";import{u as S}from"./usePagination-Cse0LUVx.js";import{R as q}from"./EditOutlined-CPCirwAC.js";import"./index-CdTTC2gm.js";import"./ContextIsolator-Qp2QtNF2.js";import"./index-B0jPUqxI.js";import"./CloseCircleFilled-BAzP1kWw.js";import"./CheckOutlined-BpWTyi5m.js";import"./SearchOutlined-nHTkwamq.js";const W=()=>{const{dispatch:a}=E,x=I(),{admissions:p,totalAdmissions:h,selectedAdmission:g}=k(e=>e.admission),{theme:o}=C(),{showToast:n}=R(),{page:i,setPage:l,limit:m,setLimit:y,search:r,setSearch:L,fetchData:d}=S(T,{},()=>{},e=>n(e,"error")),{isOpen:f,openModal:A,closeModal:c}=_();u.useEffect(()=>{d()},[i,m,r]),u.useEffect(()=>{l(1)},[r]);const b=[{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>`${t==null?void 0:t.first_name} ${t==null?void 0:t.last_name}`},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Inquiry Status",dataIndex:"inquiry_status",key:"inquiry_status"},{title:"City",dataIndex:"city",key:"city"},{title:"Type",dataIndex:"type",key:"type",width:"12%",render:(e,t)=>s.jsx("span",{className:`text-lg font-semibold ${o.PRIMARY_TEXT}`,children:`${e}`})},{title:"Action",key:"action",render:(e,t)=>s.jsx($,{buttons:[{text:"Edit",onClick:()=>{x(`/manageAdmission/${t.id}`)},icon:q,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{a(v(t)),A()},icon:N,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],j=(e,t)=>{l(e),y(t)},M=()=>{a(w(g)).unwrap().then(e=>{c(),d(),a(D()),n(e.message,"success")}).catch(e=>{n(e,"error")})};return s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center mb-4 mx-12 my-4",children:s.jsx("h1",{className:`text-2xl font-bold text-center ${o.PRIMARY_TEXT}`,children:"Admission Management"})}),s.jsx(P,{columns:b,dataSource:p,current:i,pageSize:m,total:h,onChange:j}),s.jsx(O,{title:"Confirm Deletion",isOpen:f,onCancel:c,onOk:M,children:s.jsx("p",{children:"Are you sure you want to delete this Admission?"})})]})};export{W as default};
