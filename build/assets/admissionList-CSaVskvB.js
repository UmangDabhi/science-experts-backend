import{u as M,f as R,e as k,a as C,r as u,j as s,bO as T,bP as v,bQ as w,bR as D,s as E}from"./index-CYgJ5ZTk.js";import{A as $,R as P}from"./ActionButtons-YTnw9_AZ.js";import{u as _,C as N}from"./useModal-DscNjZE6.js";import{A as O}from"./AntdTable-q0Yt4FO7.js";import{u as S}from"./usePagination-1MXeMP11.js";import{R as q}from"./EditOutlined-CeE6fISs.js";import"./index-GvTkkyb0.js";import"./ContextIsolator-BKvLsOSU.js";import"./index-B7v7tR-V.js";import"./CloseCircleFilled-CcoMUgQn.js";import"./CheckOutlined-Ddb6-Duy.js";import"./SearchOutlined-FuovpL03.js";const W=()=>{const{dispatch:a}=E,x=M(),{admissions:p,totalAdmissions:h,selectedAdmission:g}=R(e=>e.admission),{theme:o}=k(),{showToast:n}=C(),{page:i,setPage:l,limit:m,setLimit:y,search:r,setSearch:L,fetchData:d}=S(T,{},()=>{},e=>n(e,"error")),{isOpen:f,openModal:A,closeModal:c}=_();u.useEffect(()=>{d()},[i,m,r]),u.useEffect(()=>{l(1)},[r]);const b=[{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>`${t==null?void 0:t.first_name} ${t==null?void 0:t.last_name}`},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Inquiry Status",dataIndex:"inquiry_status",key:"inquiry_status"},{title:"City",dataIndex:"city",key:"city"},{title:"Type",dataIndex:"type",key:"type",width:"12%",render:(e,t)=>s.jsx("span",{className:`text-lg font-semibold ${o.PRIMARY_TEXT}`,children:`${e}`})},{title:"Action",key:"action",render:(e,t)=>s.jsx($,{buttons:[{text:"Edit",onClick:()=>{x(`/manageAdmission/${t.id}`)},icon:q,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{a(v(t)),A()},icon:P,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],j=(e,t)=>{l(e),y(t)},I=()=>{a(w(g)).unwrap().then(e=>{c(),d(),a(D()),n(e.message,"success")}).catch(e=>{n(e,"error")})};return s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center mb-4 mx-12 my-4",children:s.jsx("h1",{className:`text-2xl font-bold text-center ${o.PRIMARY_TEXT}`,children:"Admission Management"})}),s.jsx(O,{columns:b,dataSource:p,current:i,pageSize:m,total:h,onChange:j}),s.jsx(N,{title:"Confirm Deletion",isOpen:f,onCancel:c,onOk:I,children:s.jsx("p",{children:"Are you sure you want to delete this Admission?"})})]})};export{W as default};
