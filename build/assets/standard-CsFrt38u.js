import{f as I,a as P,e as $,r,j as t,Q as B,ah as b,ai as L,aj as _,ak as q,al as S,s as z}from"./index-9u-Z54xc.js";import{D as Q}from"./DynamicForm-BU_dumUG.js";import{A as U,R as V}from"./ActionButtons-ts5xPPDb.js";import{u as j,C as y}from"./useModal-CD4o3hOW.js";import{A as X}from"./AntdTable-Bx8Jx1yt.js";import{u as Y}from"./usePagination-Cse0LUVx.js";import{S as G}from"./Search-DarF5bqF.js";import{R as H}from"./EditOutlined-CPCirwAC.js";import"./index-CdTTC2gm.js";import"./ContextIsolator-Qp2QtNF2.js";import"./index-B0jPUqxI.js";import"./CloseCircleFilled-BAzP1kWw.js";import"./CheckOutlined-BpWTyi5m.js";import"./SearchOutlined-nHTkwamq.js";const ce=()=>{const{dispatch:s}=z,{standards:C,totalStandards:M,selectedStandard:a}=I(e=>e.standard),{showToast:n}=P(),{isOpen:w,openModal:c,closeModal:O}=j(),{isOpen:E,openModal:A,closeModal:m}=j(),{theme:u}=$(),o=r.useRef(),{page:p,setPage:h,limit:x,setLimit:k,search:f,setSearch:R,fetchData:d}=Y(B,{},e=>{},e=>n(e,"error"));r.useEffect(()=>{d()},[p,x,f]),r.useEffect(()=>{h(1)},[f]);const D=(e,l)=>{h(e),k(l)},T=[{title:"Standard Name",dataIndex:"standard",key:"standard"},{title:"Action",key:"action",render:e=>t.jsx(U,{buttons:[{text:"Edit",onClick:()=>{s(b(e)),c()},icon:H,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{A(),s(b(e))},icon:V,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],v=[Object.keys(a).length&&{name:"id",label:"id",type:"hidden"},{name:"standard",label:"Standard Name",type:"text",inputClass:"input-class",required:!0}],N=e=>{const l=Object.keys(a).length?L:_;s(l(e)).unwrap().then(i=>{g(),d(),n(i.message,"success")}).catch(i=>{n(i,"error")})},F=()=>{s(q(a)).unwrap().then(e=>{m(),d(),s(S()),n(e.message,"success")}).catch(e=>{n(e,"error")})};r.useEffect(()=>{o.current&&a&&o.current.resetForm({...a})},[a]);const g=()=>{O(),o.current.resetForm({standard:null}),s(S())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 mt-2",children:[t.jsx("h1",{className:`text-2xl font-bold text-center ${u.PRIMARY_TEXT}`,children:"Standard Management"}),t.jsxs("div",{className:"flex items-center w-1/3",children:[t.jsx(G,{displayText:"Standard",setSearch:R}),t.jsx("button",{onClick:c,className:`${u.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Standard"})]})]}),t.jsx(X,{columns:T,dataSource:C,current:p,pageSize:x,total:M,onChange:D}),t.jsx(y,{title:Object.keys(a).length?"Edit Standard":"Add Standard",isOpen:w,onCancel:g,footer:null,children:t.jsx(Q,{ref:o,formConfig:v,onSubmit:N,initialValues:a,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(y,{title:"Confirm Deletion",isOpen:E,onCancel:m,onOk:F,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{ce as default};
