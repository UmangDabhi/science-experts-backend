import{r as s,s as E}from"./index-Dairw7my.js";import{a as h,v as _}from"./actions-BKC2Plq8.js";const A={COURSE:"COURSE",MATERIAL:"MATERIAL"},v=()=>{const{dispatch:n}=E,m=s.useRef(null);return s.useEffect(()=>{const a=document.createElement("script");a.src="https://checkout.razorpay.com/v1/checkout.js",a.async=!0,document.body.appendChild(a)},[]),{initiatePayment:async({type:a,itemId:o,useCoins:p=!1,name:l="Science Experts",description:y="Payment",user:e={name:"",email:"",contact:""},onSuccess:r})=>{try{n(h({type:a,item_id:o,use_coins:p})).unwrap().then(t=>{if(!t.data.collect_payment){r(t);return}const{id:u,currency:d,amount:c}=t.data.order,f={key:"rzp_live_BNwsmO8Ialy7ft",amount:c,currency:d,name:l,description:y,order_id:u,handler:function(i){n(_({type:a,item_id:o,paymentDetails:i,amount:c,coins_used:t.data.coins_to_use})).unwrap().then(()=>{r(i)})},prefill:{name:e.name||"",email:e.email||"",contact:e.contact||""},theme:{color:"#F37254"},modal:{backdropclose:!1}};new window.Razorpay(f).open()}).catch(t=>{console.error("Error initiating payment:",t)})}catch(t){console.error("Error initiating payment:",t)}},razorpayDivRef:m}};export{A as P,v as u};
