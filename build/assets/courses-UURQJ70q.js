import{j as s,ai as C,u as P,c as b,r as u,d as A}from"./index-0TCJKd1i.js";import E from"./courseComponent-CMo5ey1O.js";import{T as $}from"./Toast-CZ0DzCWe.js";import{u as B}from"./usePagination-Gq1-saOA.js";import{u as T}from"./useToast-WaxmSB6m.js";import{R as M}from"./SearchOutlined-CcNoLOpi.js";import"./index-D6jWV0Sw.js";import"./index-PCWfrspn.js";const R=({total:r=25,page:a=1,goto:i})=>{const l=[];if(r<=7)l.push(...Array.from({length:r},(o,n)=>n+1));else{l.push(1,2),a>4&&l.push("...");let o=Math.max(3,a-1),n=Math.min(r-2,a+1);for(let x=o;x<=n;x++)l.push(x);a<r-3&&l.push("..."),l.push(r-1,r)}return r?s.jsxs("div",{className:"flex justify-center space-x-2 my-3",children:[s.jsxs("button",{disabled:a===1,onClick:()=>i(a-1),className:`flex justify-center items-center p-2 ${a===1?"text-gray-500 cursor-no-drop":"text-[#FF8400] cursor-pointer"}`,children:["<"," Prev"]}),l.map((o,n)=>s.jsx("button",{onClick:()=>typeof o=="number"&&i(o),className:`${o===a?"bg-[#FF8400]":"bg-white"} cursor-pointer p-2 w-10 h-10 flex justify-center items-center border-2 border-black text-black rounded-full ${o==="..."?"cursor-default bg-transparent border-none":""}`,disabled:o==="...",children:o},n)),s.jsxs("button",{disabled:a===r,onClick:()=>i(a+1),className:`flex justify-center items-center p-2 ${a===r?"text-gray-500 cursor-no-drop":"text-[#FF8400] cursor-pointer"}`,children:["Next ",">"]})]}):s.jsx("div",{className:"flex justify-center space-x-2 my-3"})},K=()=>{const[r]=C(),a=P(),{courses:i,totalCourses:l}=b(e=>e.course),{categories:p}=b(e=>e.category),{standards:o}=b(e=>e.standard),{toasts:n,showToast:x}=T(),[t,h]=u.useState({category:"All"}),[f,y]=u.useState(null),[g,j]=u.useState({}),{page:w,setPage:N,limit:v,setLimit:V,search:D,setSearch:F,fetchData:S}=B(A,g,e=>{},e=>x(e,"error"));u.useEffect(()=>{S()},[g]),u.useEffect(()=>{const e=r.get("category")||"All",c=r.get("class")||null;h({category:e}),y(c)},[r]),u.useEffect(()=>{j(e=>{const c={...e};if((t==null?void 0:t.category)!=="All"){const d=p.find(m=>m.category===(t==null?void 0:t.category));c.category=d==null?void 0:d.id}else delete c.category;if(f){const d=o.find(m=>m.standard===f);c.standard=d==null?void 0:d.id}else delete c.standard;return c})},[t,f]);const k=e=>{a(`/course/preview/${e}`)};return s.jsxs("div",{className:"bg-gray-50 ",children:[s.jsxs("h1",{className:"text-3xl font-bold text-center text-[#FB6000C4] pt-4 mb-8",children:[" ",f||"All Courses"]}),s.jsx("div",{className:"bg-[#FF6B0FB2] p-5 my-5 h-fit w-full flex  whitespace-nowrap ",children:s.jsxs("div",{className:"flex   overflow-x-auto gap-8  hide-scrollbar",children:[s.jsx("span",{onClick:()=>{h({category:"All"})},className:`${t&&(t==null?void 0:t.category)=="All"?"bg-[#FF6200E5]  text-white":"bg-white text-black"} px-3 py-2 text-lg rounded-full cursor-pointer`,children:"All"}),p.map((e,c)=>s.jsx("span",{onClick:()=>{h(e)},className:`${t&&e.category==(t==null?void 0:t.category)?"bg-[#FF6200E5]  text-white":"bg-white text-black"} px-3 py-2 text-lg rounded-full cursor-pointer`,children:e.category}))]})}),s.jsx("div",{className:"p-5 relative my-5 h-fit w-full flex  whitespace-nowrap justify-center items-center ",children:s.jsxs("div",{className:"relative w-4/6 ",children:[s.jsx(M,{className:"text-2xl absolute left-4 top-2 text-white"}),s.jsx("input",{id:"search",className:"bg-[#FB6000] pl-14 border-2 border-solid text-white border-white focus-visible:border-white rounded-full py-2 px-3 w-full",placeholder:"Search Course",onChange:e=>F(e.target.value)})]})}),s.jsx("div",{className:"flex flex-col gap-3",children:i==null?void 0:i.map((e,c)=>s.jsx(E,{course:e,handleCourseClick:k}))}),s.jsx(R,{total:Math.floor(l/v),goto:N,page:w}),s.jsx($,{toasts:n})]})};export{K as default};
