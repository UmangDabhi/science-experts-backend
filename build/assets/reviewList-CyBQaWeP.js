import{r as m,E as W,F as _,G as N,H as T,_ as K,e as X,u as V,c as B,j as C,J as F,K as G,N as Q,O as j,Q as J,s as U}from"./index-pR6HjcrU.js";import{A as Y,R as Z}from"./ActionButtons-Bfj8IX0d.js";import{W as ee,R as ne,u as ae,A as ie,C as te}from"./useModal-jm1xyYB1.js";import{T as ce}from"./Toast-B3G_mMSQ.js";import{u as le}from"./usePagination-DPHKMeHB.js";import{u as se}from"./useToast-BVD2Ms8m.js";import{u as H,K as z,g as oe,m as re,a as v,r as de,b as he,T as ue,C as ge,D as me,c as Se}from"./index-CNWFqONu.js";import"./SearchOutlined-gfc00KfX.js";var pe=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],O=m.forwardRef(function(e,n){var c,i=e.prefixCls,l=i===void 0?"rc-switch":i,o=e.className,r=e.checked,t=e.defaultChecked,a=e.disabled,s=e.loadingIcon,g=e.checkedChildren,p=e.unCheckedChildren,k=e.onClick,S=e.onChange,b=e.onKeyDown,E=W(e,pe),x=H(!1,{value:r,defaultValue:t}),y=_(x,2),w=y[0],$=y[1];function I(u,D){var M=w;return a||(M=u,$(M),S==null||S(M,D)),M}function d(u){u.which===z.LEFT?I(!1,u):u.which===z.RIGHT&&I(!0,u),b==null||b(u)}function h(u){var D=I(!w,u);k==null||k(D,u)}var f=N(l,o,(c={},T(c,"".concat(l,"-checked"),w),T(c,"".concat(l,"-disabled"),a),c));return m.createElement("button",K({},E,{type:"button",role:"switch","aria-checked":w,disabled:a,className:f,ref:n,onKeyDown:d,onClick:h}),s,m.createElement("span",{className:"".concat(l,"-inner")},m.createElement("span",{className:"".concat(l,"-inner-checked")},g),m.createElement("span",{className:"".concat(l,"-inner-unchecked")},p)))});O.displayName="Switch";const $e=e=>{const{componentCls:n,trackHeightSM:c,trackPadding:i,trackMinWidthSM:l,innerMinMarginSM:o,innerMaxMarginSM:r,handleSizeSM:t,calc:a}=e,s=`${n}-inner`,g=v(a(t).add(a(i).mul(2)).equal()),p=v(a(r).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:l,height:c,lineHeight:v(c),[`${n}-inner`]:{paddingInlineStart:r,paddingInlineEnd:o,[`${s}-checked, ${s}-unchecked`]:{minHeight:c},[`${s}-checked`]:{marginInlineStart:`calc(-100% + ${g} - ${p})`,marginInlineEnd:`calc(100% - ${g} + ${p})`},[`${s}-unchecked`]:{marginTop:a(c).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:t,height:t},[`${n}-loading-icon`]:{top:a(a(t).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:o,paddingInlineEnd:r,[`${s}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${s}-unchecked`]:{marginInlineStart:`calc(100% - ${g} + ${p})`,marginInlineEnd:`calc(-100% + ${g} - ${p})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${v(a(t).add(i).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${s}`]:{[`${s}-unchecked`]:{marginInlineStart:a(e.marginXXS).div(2).equal(),marginInlineEnd:a(e.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${s}`]:{[`${s}-checked`]:{marginInlineStart:a(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:a(e.marginXXS).div(2).equal()}}}}}}},Ce=e=>{const{componentCls:n,handleSize:c,calc:i}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:i(i(c).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},we=e=>{const{componentCls:n,trackPadding:c,handleBg:i,handleShadow:l,handleSize:o,calc:r}=e,t=`${n}-handle`;return{[n]:{[t]:{position:"absolute",top:c,insetInlineStart:c,width:o,height:o,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:i,borderRadius:r(o).div(2).equal(),boxShadow:l,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${t}`]:{insetInlineStart:`calc(100% - ${v(r(o).add(c).equal())})`},[`&:not(${n}-disabled):active`]:{[`${t}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${t}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},ve=e=>{const{componentCls:n,trackHeight:c,trackPadding:i,innerMinMargin:l,innerMaxMargin:o,handleSize:r,calc:t}=e,a=`${n}-inner`,s=v(t(r).add(t(i).mul(2)).equal()),g=v(t(o).mul(2).equal());return{[n]:{[a]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:o,paddingInlineEnd:l,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${a}-checked, ${a}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:c},[`${a}-checked`]:{marginInlineStart:`calc(-100% + ${s} - ${g})`,marginInlineEnd:`calc(100% - ${s} + ${g})`},[`${a}-unchecked`]:{marginTop:t(c).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${a}`]:{paddingInlineStart:l,paddingInlineEnd:o,[`${a}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${a}-unchecked`]:{marginInlineStart:`calc(100% - ${s} + ${g})`,marginInlineEnd:`calc(-100% + ${s} - ${g})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${a}`]:{[`${a}-unchecked`]:{marginInlineStart:t(i).mul(2).equal(),marginInlineEnd:t(i).mul(-1).mul(2).equal()}},[`&${n}-checked ${a}`]:{[`${a}-checked`]:{marginInlineStart:t(i).mul(-1).mul(2).equal(),marginInlineEnd:t(i).mul(2).equal()}}}}}},be=e=>{const{componentCls:n,trackHeight:c,trackMinWidth:i}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},de(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:i,height:c,lineHeight:v(c),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),he(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},Ie=e=>{const{fontSize:n,lineHeight:c,controlHeight:i,colorWhite:l}=e,o=n*c,r=i/2,t=2,a=o-t*2,s=r-t*2;return{trackHeight:o,trackHeightSM:r,trackMinWidth:a*2+t*4,trackMinWidthSM:s*2+t*2,trackPadding:t,handleBg:l,handleSize:a,handleSizeSM:s,handleShadow:`0 2px 4px 0 ${new ue("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:a/2,innerMaxMargin:a+t+t*2,innerMinMarginSM:s/2,innerMaxMarginSM:s+t+t*2}},fe=oe("Switch",e=>{const n=re(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[be(n),ve(n),we(n),Ce(n),$e(n)]},Ie);var ke=function(e,n){var c={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(c[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(c[i[l]]=e[i[l]]);return c};const xe=m.forwardRef((e,n)=>{const{prefixCls:c,size:i,disabled:l,loading:o,className:r,rootClassName:t,style:a,checked:s,value:g,defaultChecked:p,defaultValue:k,onChange:S}=e,b=ke(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[E,x]=H(!1,{value:s??g,defaultValue:p??k}),{getPrefixCls:y,direction:w,switch:$}=m.useContext(ge),I=m.useContext(me),d=(l??I)||o,h=y("switch",c),f=m.createElement("div",{className:`${h}-handle`},o&&m.createElement(ne,{className:`${h}-loading-icon`})),[u,D,M]=fe(h),R=Se(i),q=N($==null?void 0:$.className,{[`${h}-small`]:R==="small",[`${h}-loading`]:o,[`${h}-rtl`]:w==="rtl"},r,t,D,M),A=Object.assign(Object.assign({},$==null?void 0:$.style),a),L=function(){x(arguments.length<=0?void 0:arguments[0]),S==null||S.apply(void 0,arguments)};return u(m.createElement(ee,{component:"Switch"},m.createElement(O,Object.assign({},b,{checked:E,onChange:L,prefixCls:h,className:q,style:A,disabled:d,ref:n,loadingIcon:f}))))}),P=xe;P.__ANT_SWITCH=!0;const He=()=>{const{dispatch:e}=U,{courseId:n}=X();V();const{reviews:c,totalReviews:i,selectedReview:l}=B(d=>d.review),{toasts:o,showToast:r}=se(),{page:t,setPage:a,limit:s,setLimit:g,search:p,setSearch:k,fetchData:S}=le(F,{courseId:n},d=>{},d=>r(d,"error")),{isOpen:b,openModal:E,closeModal:x}=ae();m.useEffect(()=>{S()},[]);const y=[{title:"Review Title",dataIndex:"review",key:"review"},{title:"Change Testimonial",dataIndex:"show_as_testimonials",key:"show_as_testimonials",render:(d,h)=>C.jsx(P,{checked:d,onChange:f=>I(h,f)})},{title:"Action",key:"action",render:(d,h)=>C.jsx(Y,{buttons:[{text:"Delete",onClick:()=>{e(G(h)),E()},icon:Z,color:{text:"text-red-600",bg:"bg-red-100",hover:"hover:bg-red-200"}}]})}],w=(d,h)=>{a(d),g(h),S()},$=()=>{e(Q(l)).unwrap().then(d=>{x(),S(),e(j()),r(d.message,"success")}).catch(d=>{r(d,"error")})},I=(d,h)=>{const f={...d,show_as_testimonials:h};e(J(f)).unwrap().then(u=>{S(),e(j()),r(u.message,"success")}).catch(u=>{r(u,"error")})};return C.jsxs("div",{children:[C.jsx("div",{className:"flex justify-between items-center my-4 mx-16",children:C.jsx("h1",{className:"text-xl font-bold text-center",children:"Review Management"})}),C.jsx(ie,{columns:y,dataSource:c,current:t,pageSize:s,total:i,onChange:w}),C.jsx(ce,{toasts:o}),C.jsx(te,{title:"Confirm Deletion",isOpen:b,onCancel:x,onOk:$,children:C.jsx("p",{children:"Are you sure you want to delete this Review?"})})]})};export{He as default};
