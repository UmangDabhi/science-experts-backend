import{z as M,u as A,f as y,e as D,a as _,r as k,j as t,a7 as S,a8 as I,a9 as P,aa as d,ab as E,s as O}from"./index-CYgJ5ZTk.js";import{A as N,R as z}from"./ActionButtons-YTnw9_AZ.js";import{u as L,C as B}from"./useModal-DscNjZE6.js";import{A as X}from"./AntdTable-q0Yt4FO7.js";import{u as Y}from"./usePagination-1MXeMP11.js";import{S as $}from"./index-tKL1p91_.js";import"./index-GvTkkyb0.js";import"./ContextIsolator-BKvLsOSU.js";import"./index-B7v7tR-V.js";import"./CloseCircleFilled-CcoMUgQn.js";import"./CheckOutlined-Ddb6-Duy.js";import"./SearchOutlined-FuovpL03.js";const ae=()=>{const{dispatch:a}=O,{courseId:h}=M();A();const{reviews:u,totalReviews:p,selectedReview:w}=y(e=>e.review),{theme:x}=D(),{showToast:o}=_(),{page:c,setPage:g,limit:l,setLimit:v,search:q,setSearch:F,fetchData:i}=Y(S,{courseId:h},e=>{},e=>o(e,"error")),{isOpen:f,openModal:R,closeModal:m}=L();k.useEffect(()=>{i()},[c,l]);const j=[{title:"Review Title",dataIndex:"review",key:"review"},{title:"Change Testimonial",dataIndex:"show_as_testimonials",key:"show_as_testimonials",render:(e,s)=>t.jsx($,{checked:e,onChange:n=>T(s,n)})},{title:"Action",key:"action",render:(e,s)=>t.jsx(N,{buttons:[{text:"Delete",onClick:()=>{a(I(s)),R()},icon:z,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],b=(e,s)=>{g(e),v(s)},C=()=>{a(P(w)).unwrap().then(e=>{m(),i(),a(d()),o(e.message,"success")}).catch(e=>{o(e,"error")})},T=(e,s)=>{const n={...e,show_as_testimonials:s};a(E(n)).unwrap().then(r=>{i(),a(d()),o(r.message,"success")}).catch(r=>{o(r,"error")})};return t.jsxs("div",{children:[t.jsx("div",{className:"flex justify-between items-center mb-4 mx-12 mt-2",children:t.jsx("h1",{className:`text-2xl font-bold text-center ${x.PRIMARY_TEXT}`,children:"Review Management"})}),t.jsx(X,{columns:j,dataSource:u,current:c,pageSize:l,total:p,onChange:b}),t.jsx(B,{title:"Confirm Deletion",isOpen:f,onCancel:m,onOk:C,children:t.jsx("p",{children:"Are you sure you want to delete this Review?"})})]})};export{ae as default};
