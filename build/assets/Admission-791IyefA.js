import{r as n,j as s,A as S,v,y as A}from"./index-zTGAYWb5.js";import{G as m,M as h,N as E,A as p}from"./Admission.Const-DuZNU8Zl.js";import{u as F}from"./useApiQuery-CdwqpNBX.js";import{b as L}from"./actions-BwENTlIu.js";import{D as b}from"./DynamicForm-DZ7ZjFjN.js";const O=({onNext:o,initialValue:e,handleFieldChange:a})=>{const l=n.useRef(),t=[{name:"first_name",label:"First Name",type:"text",required:!0,maxLength:100,inputClass:"input-class",columnWidth:"col-span-3"},{name:"last_name",label:"Last Name",type:"text",required:!0,maxLength:100,inputClass:"input-class",columnWidth:"col-span-3"},{name:"email",label:"Email Address",type:"email",required:!0,maxLength:100,inputClass:"input-class",columnWidth:"col-span-3"},{name:"phone_no",label:"Phone Number",type:"number",required:!0,inputClass:"input-class",columnWidth:"col-span-3"},{name:"gender",label:"Gender",type:"select",options:[{label:m.MALE,value:m.MALE},{label:m.FEMALE,value:m.FEMALE},{label:m.OTHERS,value:m.OTHERS}],required:!0,inputClass:"input-class",columnWidth:"col-span-3"},{name:"dob",label:"Date of Birth",type:"date",required:!0,inputClass:"input-class",columnWidth:"col-span-3",max:new Date().toISOString().split("T")[0]},{name:"address",label:"Address",type:"textarea",inputClass:"input-class",columnWidth:"col-span-6"},{name:"city",label:"City",type:"text",inputClass:"input-class",columnWidth:"col-span-2"},{name:"state",label:"State",type:"text",inputClass:"input-class",columnWidth:"col-span-2"},{name:"pincode",label:"Pincode",type:"number",maxLength:"6",inputClass:"input-class",columnWidth:"col-span-2"}];return s.jsx("div",{className:"w-full max-w-6xl mx-auto p-6 bg-white rounded-2xl mb-10 shadow-md",children:s.jsx(b,{ref:l,initialValues:e,formConfig:t,onSubmit:o,handleFieldChange:a,gridClass:"grid grid-cols-6 gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})},I=({onSubmit:o,initialValue:e,handleFieldChange:a})=>{const l=n.useRef(),[t,x]=n.useState([]),[u,g]=n.useState([]),{data:r}=F({queryKey:"colleges",endpoint:S.GET_ALL_COLLEGE,options:{staleTime:1e3*60*5,cacheTime:1e3*60*10,refetchOnWindowFocus:!0}}),{data:d}=F({queryKey:"courses",endpoint:S.GET_COLLEGE_SPECIFIC_COURSE,params:{collegeCourse:e==null?void 0:e.college},options:{enabled:!!(e!=null&&e.college),staleTime:1e3*60*5,cacheTime:1e3*60*10,refetchOnWindowFocus:!0}});n.useEffect(()=>{var i;x((i=r==null?void 0:r.data)==null?void 0:i.data)},[r]),n.useEffect(()=>{g(d==null?void 0:d.data)},[d]);const f=[{name:"college",label:"College",type:"select",options:t==null?void 0:t.map(i=>({label:i.name,value:i.id})),required:!0,inputClass:"input-class"},{name:"college_course",label:"Courses",type:"select",options:u==null?void 0:u.map(i=>({label:i.name,value:i.name})),required:!0,disabled:!(e!=null&&e.college),inputClass:"input-class"}];return s.jsx("div",{className:"w-full max-w-6xl mx-auto p-6 bg-white rounded-2xl mb-10 shadow-md",children:s.jsx(b,{ref:l,initialValues:e,formConfig:f,onSubmit:o,handleFieldChange:a,gridClass:"grid grid-cols-1 gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})},B=({onNext:o,initialValue:e,handleFieldChange:a})=>{const l=n.useRef(),t=[{name:"last_qualification",label:"Last Qualification",type:"select",options:[{label:"8th Standard",value:"8th"},{label:"9th Standard",value:"9th"},{label:"10th Standard",value:"10th"},{label:"11th Standard",value:"11th"},{label:"12th Standard",value:"12th"},{label:"Other",value:"other"}],required:!0,inputClass:"input-class",columnWidth:"col-span-3"},{name:"school_name",label:"School/Institution Name",type:"text",required:!0,maxLength:100,inputClass:"input-class",columnWidth:"col-span-3"},{name:"passing_year",label:"Year of Passing",type:"text",required:!0,maxLength:100,inputClass:"input-class",columnWidth:"col-span-3"},{name:"percentage",label:"Percentage/CGPA",type:"number",required:!0,inputClass:"input-class",columnWidth:"col-span-3"}];return s.jsx("div",{className:"w-full max-w-6xl mx-auto p-6 bg-white rounded-2xl mb-10 shadow-md",children:s.jsx(b,{ref:l,initialValues:e,formConfig:t,onSubmit:o,handleFieldChange:a,gridClass:"grid grid-cols-6 gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})},_=({onSubmit:o,initialValue:e,handleFieldChange:a})=>{const l=n.useRef(),t=[{name:"mbbs_location",label:"Admission For MBBS",type:"select",options:[{label:h.INDIA,value:h.INDIA},{label:h.ABROAD,value:h.ABROAD}],required:!0,inputClass:"input-class"}];return s.jsx("div",{className:"w-full max-w-6xl mx-auto p-6 bg-white rounded-2xl mb-10 shadow-md",children:s.jsx(b,{ref:l,initialValues:e,formConfig:t,onSubmit:o,handleFieldChange:a,gridClass:"grid grid-cols-1 gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})},q=({onSubmit:o,initialValue:e,handleFieldChange:a})=>{const l=n.useRef(),t=[{name:"nios_class_type",label:"Admission For NIOS",type:"select",options:Object.entries(E).map(([x,u])=>({value:u,label:u.replace(/_/g," ")})),required:!0,inputClass:"input-class"}];return s.jsx("div",{className:"w-full max-w-6xl mx-auto p-6 bg-white rounded-2xl mb-10 shadow-md",children:s.jsx(b,{ref:l,initialValues:e,formConfig:t,onSubmit:o,handleFieldChange:a,gridClass:"grid grid-cols-1 gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})},G=()=>{const o=[{label:"Personal Details"},{label:"Academic Details"},{label:"Document Upload"}],{type:e}=v(),[a,l]=n.useState(0),[t,x]=n.useState({}),u=A(),g=({currentStep:c})=>s.jsx("div",{className:"flex justify-center mb-8",children:o.map((y,w)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`rounded-full w-8 h-8 flex items-center justify-center font-bold ${w===c?"bg-[#F68713] text-white":"bg-gray-300 text-gray-700"}`,children:w+1}),w<o.length-1&&s.jsx("div",{className:"w-8 h-1 bg-gray-300 mx-2"})]},y.label))});F({queryKey:"admission",endpoint:S.GET_ALL_ADMISSION,params:{page:1,limit:20},options:{staleTime:1e3*60*5,cacheTime:1e3*60*10,refetchOnWindowFocus:!0}});const r=c=>{x(y=>({...y,...c}))},d=()=>{l(1)},f=()=>{l(2)},i=()=>{l(0)},C=()=>{const c={...t,type:e.toUpperCase()};u(L(c))},N=n.useCallback(()=>{switch(e.toUpperCase()){case p.NIOS:return s.jsx(q,{initialValue:t,onSubmit:C,handleFieldChange:r});case p.COLLEGE:return s.jsx(I,{initialValue:t,onSubmit:C,handleFieldChange:r});case p.MBBS:return s.jsx(_,{initialValue:t,onSubmit:C,handleFieldChange:r});default:return s.jsx("div",{children:"Invalid Type"})}},[e,t]),j=n.useCallback(c=>{switch(c.toUpperCase()){case p.NIOS:return"Flexible learning opportunities with National Institute of Open Schooling";case p.COLLEGE:return"Step into your future with expert guidance for college admissions";case p.MBBS:return"Comprehensive support for MBBS admissions in India and abroad";default:return"Empowering your educational journey with expert support"}},[e]);return s.jsxs("div",{className:"flex flex-col items-center justify-center bg-gray-100",children:[s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-blue-50 w-full p-6 rounded-lg mb-8",children:[s.jsxs("h1",{className:"text-4xl font-bold text-center text-[#F68713]",children:[e==null?void 0:e.toUpperCase()," ADMISSION"]}),s.jsxs("p",{className:"text-xl text-gray-700 text-center mt-4",children:[" ",j(e)]})]}),s.jsx(g,{currentStep:a}),a===0&&s.jsx(O,{initialValue:t,onNext:d,handleFieldChange:r}),a===1&&s.jsx(B,{onNext:f,handleFieldChange:r,onBack:i}),a===2&&N()]})};export{G as default};
