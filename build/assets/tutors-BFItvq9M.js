import{d as P,a as S,r as c,j as t,ac as D,ad as k,ae as I,af as _,ag as m,s as q}from"./index-CxfMEDwy.js";import{D as v}from"./DynamicForm-BHedtMYB.js";import{u as p,A as L,C as h}from"./useModal-jtkgSRqc.js";import{C as l}from"./CommonClass-Dpx7ipLY.js";import{u as R}from"./usePagination-DdT8a4iY.js";import"./index-BzX3ZsTw.js";import"./omit-XSEgd9gN.js";import"./SearchOutlined-CXMCdJ9R.js";const W=()=>{const{dispatch:o}=q,{tutors:g,totalTutors:x,selectedTutor:n}=P(e=>e.tutor),{showToast:s}=S(),{isOpen:f,openModal:T,closeModal:C}=p(),{isOpen:M,openModal:U,closeModal:i}=p(),d=c.useRef(),{page:b,setPage:w,limit:O,setLimit:y,search:z,setSearch:$,fetchData:r}=R(D,{},e=>{},e=>s(e,"error"));c.useEffect(()=>{r()},[]);const j=(e,a)=>{w(e),y(a),r()},F=[{title:"Tutor Id",dataIndex:"stu_id",key:"stu_id"},{title:"Tutor Name",dataIndex:"name",key:"name"},{title:"Tutor Email",dataIndex:"email",key:"email"}],N=[Object.keys(n).length&&{name:"id",label:"id",type:"hidden"},{name:"name",label:"Tutor Name",type:"text",inputClass:l.COMMON_INPUT,required:!0},{name:"email",label:"Tutor Email",type:"email",inputClass:l.COMMON_INPUT,required:!0},{name:"password",label:"Tutor Password",type:"password",inputClass:l.COMMON_INPUT,minLength:8,required:!0,pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,message:"Password must be at least 8 characters long, include at least one uppercase letter, one lowercase letter, one digit, and one special character."},errorMessages:{required:"Password is required",minLength:"Password must be at least 8 characters",pattern:"Password must include at least one uppercase letter, one lowercase letter, one digit, and one special character."}}],A=e=>{o(k({...e,role:I.TUTOR})).unwrap().then(a=>{u(),r(),s(a.message,"success")}).catch(a=>{s(a,"error")})},E=()=>{o(_(n)).unwrap().then(e=>{i(),r(),o(m()),s(e.message,"success")}).catch(e=>{s(e,"error")})},u=()=>{C(),d.current.resetForm({name:null,role:null,email:null,password:null}),o(m())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[t.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Tutor Management"}),t.jsx("button",{onClick:T,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Tutor"})]}),t.jsx(L,{columns:F,dataSource:g,current:b,pageSize:O,total:x,onChange:j}),t.jsx(h,{title:Object.keys(n).length?"Edit Tutor":"Add Tutor",isOpen:f,onCancel:u,footer:null,children:t.jsx(v,{ref:d,formConfig:N,onSubmit:A,formClass:"space-y-8 w-full",submitClass:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(h,{title:"Confirm Deletion",isOpen:M,onCancel:i,onOk:E,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{W as default};
