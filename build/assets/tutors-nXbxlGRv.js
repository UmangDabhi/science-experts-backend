import{e as _,a as D,d as I,r as h,j as t,ag as R,ah as k,J as L,ai as U,aj as T,s as q}from"./index-eS-IgJE9.js";import{D as F}from"./DynamicForm-buxuD3lt.js";import{u as x,A as $,C as g}from"./useModal-qZTebpbx.js";import{C as l}from"./CommonClass-DJyhl18r.js";import{u as v}from"./usePagination-CxtOyCxc.js";import"./index-Cs-WM_k0.js";import"./index-BFR5Wi7Y.js";import"./CloseCircleFilled-Dw5x-jXY.js";import"./SearchOutlined-deWQ91s0.js";const ee=()=>{const{dispatch:o}=q,{tutors:f,totalTutors:C,selectedTutor:r}=_(e=>e.tutor),{showToast:s}=D(),{isOpen:M,openModal:O,closeModal:b}=x(),{isOpen:w,openModal:z,closeModal:i}=x(),{theme:d}=I(),u=h.useRef(),{page:c,setPage:y,limit:m,setLimit:j,search:Z,setSearch:B,fetchData:n}=v(R,{},e=>{},e=>s(e,"error"));h.useEffect(()=>{n()},[c,m]);const N=(e,a)=>{y(e),j(a)},E=[{title:"Tutor Id",dataIndex:"stu_id",key:"stu_id"},{title:"Tutor Name",dataIndex:"name",key:"name"},{title:"Tutor Email",dataIndex:"email",key:"email"}],P=[Object.keys(r).length&&{name:"id",label:"id",type:"hidden"},{name:"name",label:"Tutor Name",type:"text",inputClass:l.COMMON_INPUT,required:!0},{name:"email",label:"Tutor Email",type:"email",inputClass:l.COMMON_INPUT,required:!0},{name:"password",label:"Tutor Password",type:"password",inputClass:l.COMMON_INPUT,minLength:8,required:!0,pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,message:"Password must be at least 8 characters long, include at least one uppercase letter, one lowercase letter, one digit, and one special character."},errorMessages:{required:"Password is required",minLength:"Password must be at least 8 characters",pattern:"Password must include at least one uppercase letter, one lowercase letter, one digit, and one special character."}}],A=e=>{o(k({...e,role:L.TUTOR})).unwrap().then(a=>{p(),n(),s(a.message,"success")}).catch(a=>{s(a,"error")})},S=()=>{o(U(r)).unwrap().then(e=>{i(),n(),o(T()),s(e.message,"success")}).catch(e=>{s(e,"error")})},p=()=>{b(),u.current.resetForm({name:null,role:null,email:null,password:null}),o(T())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 mt-2",children:[t.jsx("h1",{className:`text-2xl font-bold text-center ${d.PRIMARY_TEXT}`,children:"Tutor Management"}),t.jsx("button",{onClick:O,className:`${d.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Tutor"})]}),t.jsx($,{columns:E,dataSource:f,current:c,pageSize:m,total:C,onChange:N}),t.jsx(g,{title:Object.keys(r).length?"Edit Tutor":"Add Tutor",isOpen:M,onCancel:p,footer:null,children:t.jsx(F,{ref:u,formConfig:P,onSubmit:A,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(g,{title:"Confirm Deletion",isOpen:w,onCancel:i,onOk:S,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{ee as default};
