import{w as y,u as A,e as N,d as T,a as v,r as R,j as t,ay as D,az as O,aA as k,aB as $,aC as E,s as I}from"./index-BjzhHNWB.js";import{A as P,R as S}from"./ActionButtons-DZLlChLL.js";import{u as B,A as L,C as z}from"./useModal-CeA2eETP.js";import{u as _}from"./usePagination-D_Pp7t-_.js";import{R as U}from"./EditOutlined-Cicr4L2b.js";import"./index-D62oXebL.js";import"./index-BWe-oDl7.js";import"./omit-mXK9d7Ip.js";import"./SearchOutlined-DgCxFSr-.js";const Z=()=>{const{dispatch:o}=I,{courseId:a}=y(),r=A(),{materials:u,totalMaterials:h,selectedMaterial:x}=N(e=>e.material),{theme:n}=T(),{showToast:l}=v(),{page:i,setPage:p,limit:c,setLimit:g,search:X,setSearch:Y,fetchData:d}=_(a?D:O,{courseId:a},()=>{},e=>l(e,"error")),{isOpen:M,openModal:f,closeModal:m}=B();R.useEffect(()=>{d()},[i,c]);const b=[{title:"Note Title",dataIndex:"title",key:"title"},{title:"Action",key:"action",render:(e,s)=>t.jsx(P,{buttons:[{text:"Edit",onClick:()=>{r(`/addMaterial/${a||"-"}/${s.id}`)},icon:U,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{o(k(s)),f()},icon:S,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],C=(e,s)=>{p(e),g(s)},j=()=>{r(`/addmaterial/${a||"-"}`)},w=()=>{o($(x)).unwrap().then(e=>{m(),d(),o(E()),l(e.message,"success")}).catch(e=>{l(e,"error")})};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 my-2",children:[t.jsx("h1",{className:`text-2xl font-bold text-center ${n.PRIMARY_TEXT}`,children:"Note Management"}),t.jsx("button",{onClick:j,className:`${n.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Note"})]}),t.jsx(L,{columns:b,dataSource:u,current:i,pageSize:c,total:h,onChange:C}),t.jsx(z,{title:"Confirm Deletion",isOpen:M,onCancel:m,onOk:w,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{Z as default};
