import{v as x,d,r as i,aC as h,j as n,ah as p,s as f}from"./index-BuvaiK4F.js";import{u as b,P as j}from"./useRazorpayPayment-Bjkp2fWY.js";import"./actions-Lc9cosHO.js";const P=()=>{var a;const{dispatch:c}=f,{materialId:r}=x(),{selectedMaterial:s,materials:N}=d(t=>t.material),{initiatePayment:u,razorpayDivRef:g}=b(),[l,o]=i.useState(!1),m=()=>{o(!0),u({amount:s!=null&&s.amount?Number(s==null?void 0:s.amount):0,type:j.MATERIAL,itemId:s==null?void 0:s.id,name:s==null?void 0:s.title,description:s==null?void 0:s.description,user:{name:"John Doe",email:"John Doe",contact:"John Doe"},onSuccess:t=>{e()}}).finally(()=>o(!1))};i.useEffect(()=>{r&&e()},[r]);const e=()=>{c(h({id:r}))};return n.jsxs("div",{children:[n.jsxs("div",{className:"bg-[#313131] w-full h-120 p-5 ",children:[n.jsxs("div",{className:"my-4 flex ",children:[n.jsx("div",{className:"w-52 shrink-0 h-auto border-2 rounded-xl border-white border-solid",children:n.jsx("img",{className:"  rounded-xl",src:s==null?void 0:s.thumbnail_url,alt:"Course Thumbnail Image"})}),n.jsx("div",{className:"bg-[#313131] flex row-span-2 p-4  text-white",children:n.jsxs("div",{className:"  flex flex-col justify-between",children:[n.jsx("h3",{className:"text-4xl ",children:s==null?void 0:s.title}),n.jsx("h3",{className:"text-xl line-clamp-5",children:s==null?void 0:s.description}),n.jsxs("p",{children:["Instructor: ",(a=s==null?void 0:s.tutor)==null?void 0:a.name]}),n.jsxs("p",{children:["Last Updated on ",p(s==null?void 0:s.updated_at)]})]})})]}),n.jsx("div",{className:"bg-[#666666] rounded-xl p-3 text-white  flex flex-col justify-between",children:n.jsx("p",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"w-5 h-5 bg-white rounded-full relative",children:n.jsx("span",{className:"w-3 h-3 bg-[#FF8F18] rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})}),n.jsxs("span",{children:["₹ ",s==null?void 0:s.amount," Only"]})]})})})]}),n.jsxs("div",{className:"p-6 font-bold",children:[n.jsxs("p",{className:"text-2xl flex justify-between items-center",children:[n.jsx("span",{children:"Summary"}),s!=null&&s.is_purchased?n.jsx("a",{href:s==null?void 0:s.material_url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"border-2 border-black rounded-3xl bg-[#FF8400] px-3 py-1 text-lg",children:"Download"}):n.jsx("button",{onClick:m,disabled:l,className:"border-2 border-black rounded-3xl bg-[#FF8400] px-3 py-1 text-lg",children:"Purchase Now"})]}),n.jsxs("p",{className:"text-xl ",children:["Total: ₹",s==null?void 0:s.amount]}),n.jsxs("p",{children:["No refunds or credits for unused or partial periods (unless required by law). Access starts immediately upon purchase with an initial charge of ₹",s==null?void 0:s.amount,". Recurring charges apply for continued access. To avoid future billing, cancel before the next cycle. By confirming the purchase, the user agrees to the Terms and authorizes recurring payments."]})]})]})};export{P as default};
