import{f as R,a as k,e as S,r as p,j as t,am as N,an as q,S as F,ao as I,ap as h,s as L}from"./index-BIwGSPbH.js";import{D as $}from"./DynamicForm-E0J9MBNX.js";import{A as v}from"./AntdTable-CSY8_0mG.js";import{u as x,C as g}from"./useModal-GWWM9RFR.js";import{u as _}from"./usePagination-C6MB7ved.js";import"./ContextIsolator-qG6bPkcN.js";import"./index-Dc2cs8cU.js";import"./index-DksuG98G.js";import"./CheckOutlined-DEzfDvrX.js";import"./CloseCircleFilled-C0XbTAnl.js";import"./SearchOutlined-QO09orvp.js";const te=()=>{const{dispatch:o}=L,{tutors:T,totalTutors:f,selectedTutor:r}=R(e=>e.tutor),{showToast:s}=k(),{isOpen:b,openModal:w,closeModal:C}=x(),{isOpen:y,openModal:z,closeModal:l}=x(),{theme:i}=S(),d=p.useRef(),{page:u,setPage:M,limit:c,setLimit:j,search:U,setSearch:Z,fetchData:n}=_(N,{},e=>{},e=>s(e,"error"));p.useEffect(()=>{n()},[u,c]);const O=(e,a)=>{M(e),j(a)},E=[{title:"Tutor Id",dataIndex:"stu_id",key:"stu_id"},{title:"Tutor Name",dataIndex:"name",key:"name"},{title:"Tutor Email",dataIndex:"email",key:"email"}],A=[Object.keys(r).length&&{name:"id",label:"id",type:"hidden"},{name:"name",label:"Tutor Name",type:"text",inputClass:"input-class",required:!0},{name:"email",label:"Tutor Email",type:"email",inputClass:"input-class",required:!0},{name:"password",label:"Tutor Password",type:"password",inputClass:"input-class",minLength:8,required:!0,pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,message:"Password must be at least 8 characters long, include at least one uppercase letter, one lowercase letter, one digit, and one special character."},errorMessages:{required:"Password is required",minLength:"Password must be at least 8 characters",pattern:"Password must include at least one uppercase letter, one lowercase letter, one digit, and one special character."}}],P=e=>{o(q({...e,role:F.TUTOR})).unwrap().then(a=>{m(),n(),s(a.message,"success")}).catch(a=>{s(a,"error")})},D=()=>{o(I(r)).unwrap().then(e=>{l(),n(),o(h()),s(e.message,"success")}).catch(e=>{s(e,"error")})},m=()=>{C(),d.current.resetForm({name:null,role:null,email:null,password:null}),o(h())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 mt-2",children:[t.jsx("h1",{className:`text-2xl font-bold text-center ${i.PRIMARY_TEXT}`,children:"Tutor Management"}),t.jsx("button",{onClick:w,className:`${i.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Tutor"})]}),t.jsx(v,{columns:E,dataSource:T,current:u,pageSize:c,total:f,onChange:O}),t.jsx(g,{title:Object.keys(r).length?"Edit Tutor":"Add Tutor",isOpen:b,onCancel:m,footer:null,children:t.jsx($,{ref:d,formConfig:A,onSubmit:P,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(g,{title:"Confirm Deletion",isOpen:y,onCancel:l,onOk:D,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{te as default};
