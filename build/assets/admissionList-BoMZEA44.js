import{u as M,f as R,e as T,a as k,r as u,j as s,bR as C,bS as v,bT as w,bU as D,s as E}from"./index-pNvrWSmY.js";import{A as $,R as S}from"./ActionButtons-M7qjbuVA.js";import{u as _,C as N}from"./useModal-D0APmdDo.js";import{A as P}from"./AntdTable-B83z-x-W.js";import{u as O}from"./usePagination-DXbONsN9.js";import{R as q}from"./EditOutlined-DQ1FRz2E.js";import"./index-D2mLwxQq.js";import"./ContextIsolator-DrMfFJ7f.js";import"./index-CSUN6ZqK.js";import"./CloseCircleFilled-DvaIcsnr.js";import"./CheckOutlined-DLwyd1lS.js";import"./SearchOutlined-CQKYO44F.js";const W=()=>{const{dispatch:a}=E,x=M(),{admissions:p,totalAdmissions:h,selectedAdmission:g}=R(e=>e.admission),{theme:o}=T(),{showToast:n}=k(),{page:i,setPage:l,limit:m,setLimit:y,search:r,setSearch:L,fetchData:d}=O(C,{},()=>{},e=>n(e,"error")),{isOpen:f,openModal:A,closeModal:c}=_();u.useEffect(()=>{d()},[i,m,r]),u.useEffect(()=>{l(1)},[r]);const b=[{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>`${t==null?void 0:t.first_name} ${t==null?void 0:t.last_name}`},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Inquiry Status",dataIndex:"inquiry_status",key:"inquiry_status"},{title:"City",dataIndex:"city",key:"city"},{title:"Type",dataIndex:"type",key:"type",width:"12%",render:(e,t)=>s.jsx("span",{className:`text-lg font-semibold ${o.PRIMARY_TEXT}`,children:`${e}`})},{title:"Action",key:"action",render:(e,t)=>s.jsx($,{buttons:[{text:"Edit",onClick:()=>{x(`/manageAdmission/${t.id}`)},icon:q,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{a(v(t)),A()},icon:S,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],j=(e,t)=>{l(e),y(t)},I=()=>{a(w(g)).unwrap().then(e=>{c(),d(),a(D()),n(e.message,"success")}).catch(e=>{n(e,"error")})};return s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center mb-4 mx-12 my-4",children:s.jsx("h1",{className:`text-2xl font-bold text-center ${o.PRIMARY_TEXT}`,children:"Admission Management"})}),s.jsx(P,{columns:b,dataSource:p,current:i,pageSize:m,total:h,onChange:j}),s.jsx(N,{title:"Confirm Deletion",isOpen:f,onCancel:c,onOk:I,children:s.jsx("p",{children:"Are you sure you want to delete this Admission?"})})]})};export{W as default};
