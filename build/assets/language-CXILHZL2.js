import{e as T,a as v,d as F,r as c,j as t,F as I,b0 as x,b1 as P,b2 as _,b3 as $,b4 as f,s as B}from"./index-YBZPnxeb.js";import{D as U}from"./DynamicForm-KvBHiK5P.js";import{A as q,R as z}from"./ActionButtons-DA5X_QnA.js";import{u as b,A as V,C}from"./useModal-CwH2XahM.js";import{u as X}from"./usePagination-D8vY2U4c.js";import{C as Y}from"./CommonClass-DJyhl18r.js";import{R as G}from"./EditOutlined-B7CofR8z.js";import"./index-C6HwOYJ9.js";import"./index-BsCZmNR8.js";import"./omit-1shfR3HB.js";import"./SearchOutlined-BgmrGyyK.js";const re=()=>{const{dispatch:s}=B,{languages:M,totalLanguages:y,selectedLanguage:a}=T(e=>e.language),{showToast:n}=v(),{isOpen:L,openModal:g,closeModal:O}=b(),{isOpen:j,openModal:w,closeModal:u}=b(),{theme:d}=F(),o=c.useRef(),{page:m,setPage:A,limit:h,setLimit:E,search:H,setSearch:J,fetchData:l}=X(I,{},e=>{},e=>n(e,"error"));c.useEffect(()=>{l()},[m,h]);const R=(e,r)=>{A(e),E(r)},S=[{title:"Language Name",dataIndex:"language",key:"language"},{title:"Action",key:"action",render:e=>t.jsx(q,{buttons:[{text:"Edit",onClick:()=>{s(x(e)),g()},icon:G,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{w(),s(x(e))},icon:z,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],k=[Object.keys(a).length&&{name:"id",label:"id",type:"hidden"},{name:"language",label:"Language Name",type:"text",inputClass:Y.COMMON_INPUT,required:!0}],D=e=>{const r=Object.keys(a).length?P:_;s(r(e)).unwrap().then(i=>{p(),l(),n(i.message,"success")}).catch(i=>{n(i,"error")})},N=()=>{s($(a)).unwrap().then(e=>{u(),l(),s(f()),n(e.message,"success")}).catch(e=>{n(e,"error")})};c.useEffect(()=>{o.current&&a&&o.current.resetForm({...a})},[a]);const p=()=>{O(),o.current.resetForm({language:null}),s(f())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 my-2",children:[t.jsx("h1",{className:`text-2xl font-bold text-center ${d.PRIMARY_TEXT}`,children:"Language Management"}),t.jsx("button",{onClick:g,className:`${d.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Language"})]}),t.jsx(V,{columns:S,dataSource:M,current:m,pageSize:h,total:y,onChange:R}),t.jsx(C,{title:Object.keys(a).length?"Edit Language":"Add Language",isOpen:L,onCancel:p,footer:null,children:t.jsx(U,{ref:o,formConfig:k,onSubmit:D,initialValues:a,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(C,{title:"Confirm Deletion",isOpen:j,onCancel:u,onOk:N,children:t.jsx("p",{children:"Are you sure you want to delete this language?"})})]})};export{re as default};
