import{d as v,a as N,r as g,j as t,C as R,aF as p,aG as I,aH as P,aI as T,aJ as x,s as _}from"./index-Cw-YkOIH.js";import{D as q}from"./DynamicForm-RoaALpAp.js";import{A as z,R as B}from"./ActionButtons-B2BVeouL.js";import{u as f,A as G,C as b}from"./useModal-C1wsKQFO.js";import{u as H}from"./usePagination-Bx6uUotu.js";import{C as J}from"./CommonClass-Dpx7ipLY.js";import{R as U}from"./EditOutlined-BeDuY35J.js";import"./index-DK_3ZgSx.js";import"./omit-CyZ81oXW.js";import"./SearchOutlined-DxzJJtTe.js";const oe=()=>{const{dispatch:n}=_,{languages:C,totalLanguages:M,selectedLanguage:a}=v(e=>e.language),{showToast:o}=N(),{isOpen:y,openModal:c,closeModal:L}=f(),{isOpen:j,openModal:F,closeModal:u}=f(),s=g.useRef(),{page:d,setPage:O,limit:m,setLimit:w,search:V,setSearch:$,fetchData:l}=H(R,{},e=>{},e=>o(e,"error"));g.useEffect(()=>{l()},[d,m]);const A=(e,r)=>{O(e),w(r)},E=[{title:"Language Name",dataIndex:"language",key:"language"},{title:"Action",key:"action",render:e=>t.jsx(z,{buttons:[{text:"Edit",onClick:()=>{n(p(e)),c()},icon:U,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{F(),n(p(e))},icon:B,color:{text:"text-red-600",bg:"bg-red-100",hover:"hover:bg-red-200"}}]})}],S=[Object.keys(a).length&&{name:"id",label:"id",type:"hidden"},{name:"language",label:"Language Name",type:"text",inputClass:J.COMMON_INPUT,required:!0}],k=e=>{const r=Object.keys(a).length?I:P;n(r(e)).unwrap().then(i=>{h(),l(),o(i.message,"success")}).catch(i=>{o(i,"error")})},D=()=>{n(T(a)).unwrap().then(e=>{u(),l(),n(x()),o(e.message,"success")}).catch(e=>{o(e,"error")})};g.useEffect(()=>{s.current&&a&&s.current.resetForm({...a})},[a]);const h=()=>{L(),s.current.resetForm({language:null}),n(x())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[t.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Language Management"}),t.jsx("button",{onClick:c,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Language"})]}),t.jsx(G,{columns:E,dataSource:C,current:d,pageSize:m,total:M,onChange:A}),t.jsx(b,{title:Object.keys(a).length?"Edit Language":"Add Language",isOpen:y,onCancel:h,footer:null,children:t.jsx(q,{ref:s,formConfig:S,onSubmit:k,initialValues:a,formClass:"space-y-8 w-full",submitClass:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(b,{title:"Confirm Deletion",isOpen:j,onCancel:u,onOk:D,children:t.jsx("p",{children:"Are you sure you want to delete this language?"})})]})};export{oe as default};
