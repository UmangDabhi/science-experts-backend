import{e as C,u as D,c as F,r as y,j as t,D as T,E as v,F as E,w as N,s as k}from"./index-gq12ktLK.js";import{A as O}from"./ActionButtons-BiUQhC3x.js";import{u as P,A as S,C as I}from"./useModal-DLDnYem5.js";import{u as $,T as L}from"./Toast-BCn7xGeU.js";import{u as z}from"./usePagination-DMT-xorY.js";import"./index-CII06FMK.js";import"./SearchOutlined-CkQO2FyM.js";const W=()=>{const{dispatch:o}=k,{courseId:a,moduleId:B}=C(),d=D(),{modules:i,totalModules:c,selectedModule:u}=F(e=>e.module),{toasts:m,showToast:l}=$(),{page:h,setPage:x,limit:p,setLimit:M,search:R,setSearch:q,fetchData:n}=z(T,{courseId:a},e=>{},e=>l(e,"error")),{isOpen:g,openModal:f,closeModal:r}=P();y.useEffect(()=>{n()},[]);const j=[{title:"Module Title",dataIndex:"title",key:"title"},{title:"Action",key:"action",render:(e,s)=>t.jsx(O,{showAdd:!0,onEdit:()=>{d(`/addModule/${a}/${s.id}`)},onDelete:()=>{o(v(s)),f()}})}],A=(e,s)=>{x(e),M(s),n()},w=()=>{d(`/addmodule/${a}`)},b=()=>{o(E(u)).unwrap().then(e=>{r(),n(),o(N()),l(e.message,"success")}).catch(e=>{l(e,"error")})};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[t.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Module Management"}),t.jsx("button",{onClick:w,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Module"})]}),t.jsx(S,{columns:j,dataSource:i,current:h,pageSize:p,total:c,onChange:A}),t.jsx(L,{toasts:m}),t.jsx(I,{title:"Confirm Deletion",isOpen:g,onCancel:r,onOk:b,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{W as default};
