import{v as C,r as g,f as S,a as _,u as E,e as M,bO as h,bN as O,j as l,s as R,E as m,bP as B,bQ as D}from"./index-D88zQRRN.js";import{I,A as u}from"./Admission.Const-DuZNU8Zl.js";import{u as P,C as T}from"./useModal-CEw5WwZ2.js";import{D as q}from"./DynamicForm-CJyhLITx.js";import"./ContextIsolator-D3jvgf_M.js";import"./index-B7XrKtQs.js";import"./CloseCircleFilled-pnbKNdw8.js";const z=()=>{var d,p;const{dispatch:n}=R,{admissionId:s}=C(),x=g.useRef(),{selectedAdmission:a}=S(r=>r.admission),{showToast:f}=_();E();const{theme:j}=M(),{isOpen:b,openModal:v,closeModal:N}=P();g.useEffect(()=>{n(s?h({id:s}):O({id:s}))},[s]);const y=r=>{const e=m({id:s,inquiry_status:r});c(e,B)},w=r=>{const e=m({id:s,remark:r==null?void 0:r.remark});c(e,D)},c=(r,e)=>{n(e(r)).unwrap().then(o=>{i(),n(h({id:s})),f(o.message,"success")})},F=[{name:"remark",label:"Remark",type:"text",inputClass:"input-class",required:!0}],t=({title:r,value:e,className:o="col-span-3"})=>l.jsxs("div",{className:` w-full flex gap-10 text-justify justify-between ${o}`,children:[l.jsx("p",{className:"font-semibold",children:r}),l.jsx("p",{className:"italic",children:e})]}),k=()=>{var r,e;switch(a==null?void 0:a.type){case u.NIOS:return l.jsx("div",{className:"grid grid-cols-6 gap-x-10 gap-y-3",children:l.jsx(t,{title:"NIOS Type",value:(r=a==null?void 0:a.nios_class_type)==null?void 0:r.replace(/_/g," ")})});case u.COLLEGE:return l.jsxs("div",{className:"grid grid-cols-6 gap-x-10 gap-y-3",children:[l.jsx(t,{title:"College",value:(e=a==null?void 0:a.college)==null?void 0:e.name}),l.jsx(t,{title:"Course",value:a==null?void 0:a.college_course})]});case u.MBBS:return l.jsx("div",{className:"grid grid-cols-6 gap-x-10 gap-y-3",children:l.jsx(t,{title:"Location",value:a==null?void 0:a.mbbs_location})});default:return null}},i=()=>{N(),x.current.resetForm({remark:null})};return l.jsxs("div",{className:"w-10/12 grid grid-cols-3 gap-x-4 mx-auto p-6 ",children:[l.jsx("h1",{className:" col-span-3 text-3xl font-bold text-center text-[#F68713] mb-8",children:"Manage Admission"}),l.jsxs("div",{className:"col-span-2 flex flex-col w-full gap-8",children:[l.jsx("div",{className:"max-w-6xl mx-auto p-6 w-full rounded-2xl shadow-formShadow border border-[#FFA167] gradient-bg",children:l.jsxs("div",{className:" grid grid-cols-6 gap-x-10 gap-y-3",children:[l.jsx(t,{title:"First Name",value:a==null?void 0:a.first_name}),l.jsx(t,{title:"Last Name",value:a==null?void 0:a.last_name}),l.jsx(t,{title:"Email Address",value:a==null?void 0:a.email}),l.jsx(t,{title:"Phone Number",value:a==null?void 0:a.phone_no}),l.jsx(t,{title:"Gender",value:a==null?void 0:a.gender}),l.jsx(t,{title:"Date of Birth",value:a==null?void 0:a.dob}),l.jsx(t,{title:"Address",value:a==null?void 0:a.address}),l.jsx(t,{title:"City",value:a==null?void 0:a.city}),l.jsx(t,{title:"State",value:a==null?void 0:a.state}),l.jsx(t,{title:"Pincode",value:a==null?void 0:a.pincode})]})}),l.jsx("div",{className:"max-w-6xl mx-auto p-6 w-full rounded-2xl shadow-formShadow border border-[#FFA167] gradient-bg",children:l.jsxs("div",{className:" grid grid-cols-6 gap-x-10 gap-y-3",children:[l.jsx(t,{title:"Last Qualification",value:a==null?void 0:a.last_qualification}),l.jsx(t,{title:"School/Institution Name",value:a==null?void 0:a.school_name}),l.jsx(t,{title:"Year of Passing",value:a==null?void 0:a.passing_year}),l.jsx(t,{title:"Percentage/CGPA",value:a==null?void 0:a.percentage})]})}),(a==null?void 0:a.type)&&l.jsx("div",{className:"max-w-6xl mx-auto p-6 w-full rounded-2xl shadow-formShadow border border-[#FFA167] gradient-bg",children:k()})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex justify-evenly gap-4 items-end ",children:[l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"block text-gray-700 font-semibold mb-2 text-left",htmlFor:name,children:"Inquiry Status"}),l.jsxs("select",{value:a==null?void 0:a.inquiry_status,onChange:r=>y(r.target.value),className:"border rounded-lg p-2 w-full input-class",children:[l.jsx("option",{value:"",children:"Select an option"}),(d=Object.entries(I).map(([r,e])=>({value:e,label:e.replace(/_/g," ")})))==null?void 0:d.map((r,e)=>l.jsx("option",{value:r==null?void 0:r.value,className:"bg-[#FFF3E0] text-[#BF360C] hover:bg-[#FFE0B2] focus:bg-[#FFE0B2]",children:r==null?void 0:r.label},e))]})]}),l.jsx("div",{className:"shrink-0",children:l.jsx("button",{onClick:()=>{console.log("clicked"),v()},className:`${j.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add remark"})})]}),l.jsx("div",{className:"flex flex-col gap-3 h-[60vh] py-2 hide-scrollbar overflow-y-scroll",children:a!=null&&a.remarks?(p=a==null?void 0:a.remarks)==null?void 0:p.map(r=>{const e=new Date(r==null?void 0:r.time),o=("0"+e.getDate()).slice(-2)+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+e.getFullYear();return l.jsx("div",{className:"w-full mx-auto p-4 rounded-2xl shadow-formShadow  border border-[#FFA167] gradient-bg",children:l.jsxs("div",{className:" flex flex-col w-full gap-x-10 gap-y-1",children:[l.jsx("p",{className:"font-semibold ",children:o}),l.jsx("p",{className:"italic",children:r==null?void 0:r.remark})]})})}):l.jsx("p",{children:"No Remarks"})})]}),l.jsx(T,{title:"Add Remark",isOpen:b,onCancel:i,footer:null,children:l.jsx(q,{ref:x,formConfig:F,onSubmit:w,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] hover:bg-[#FF0000] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})]})};export{z as default};
