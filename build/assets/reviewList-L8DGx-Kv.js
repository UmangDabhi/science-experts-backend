import{v as y,u as M,d as A,a as D,r as T,j as t,X as k,Y as S,Z as _,$ as m,a0 as I,s as O}from"./index-COGDzE6e.js";import{A as P,R as E}from"./ActionButtons-B_f51UC9.js";import{u as N,A as L,C as z}from"./useModal-B0S3JuLO.js";import{u as B}from"./usePagination-D-SohoEy.js";import{S as X}from"./index-DraLGpJ7.js";import"./index-CF0rLYe-.js";import"./omit-DXAX7t4b.js";import"./SearchOutlined-KUZIcxtI.js";const U=()=>{const{dispatch:a}=O,{courseId:h}=y();M();const{reviews:u,totalReviews:w,selectedReview:x}=A(e=>e.review),{showToast:o}=D(),{page:c,setPage:p,limit:l,setLimit:v,search:Y,setSearch:Z,fetchData:n}=B(k,{courseId:h},e=>{},e=>o(e,"error")),{isOpen:g,openModal:f,closeModal:d}=N();T.useEffect(()=>{n()},[c,l]);const R=[{title:"Review Title",dataIndex:"review",key:"review"},{title:"Change Testimonial",dataIndex:"show_as_testimonials",key:"show_as_testimonials",render:(e,s)=>t.jsx(X,{checked:e,onChange:i=>b(s,i)})},{title:"Action",key:"action",render:(e,s)=>t.jsx(P,{buttons:[{text:"Delete",onClick:()=>{a(S(s)),f()},icon:E,color:{text:"text-red-600",bg:"bg-red-100",hover:"hover:bg-red-200"}}]})}],j=(e,s)=>{p(e),v(s)},C=()=>{a(_(x)).unwrap().then(e=>{d(),n(),a(m()),o(e.message,"success")}).catch(e=>{o(e,"error")})},b=(e,s)=>{const i={...e,show_as_testimonials:s};a(I(i)).unwrap().then(r=>{n(),a(m()),o(r.message,"success")}).catch(r=>{o(r,"error")})};return t.jsxs("div",{children:[t.jsx("div",{className:"flex justify-between items-center my-4 mx-16",children:t.jsx("h1",{className:"text-xl font-bold text-center",children:"Review Management"})}),t.jsx(L,{columns:R,dataSource:u,current:c,pageSize:l,total:w,onChange:j}),t.jsx(z,{title:"Confirm Deletion",isOpen:g,onCancel:d,onOk:C,children:t.jsx("p",{children:"Are you sure you want to delete this Review?"})})]})};export{U as default};
