import{w as b,f as u,r as o,a as x,u as h,J as F,e as w,bX as y,bY as v,bZ as A,j as n,s as j,F as N,b_ as E,b$ as S}from"./index-CNXByAnQ.js";import{D as R}from"./DynamicForm-BWp3u4dc.js";const k=()=>{const{dispatch:t}=j,{collegeId:s}=b(),{collegeCourses:c,totalCollegeCourses:T,selectedCollegeCourse:V}=u(e=>e.collegeCourse),{selectedCollege:l}=u(e=>e.college),[q,d]=o.useState({}),{showToast:i}=x(),g=h(),r=o.useRef();F(),w();const m=[{name:"name",label:"College Name",type:"text",required:!0,inputClass:"input-class",maxLength:100},{name:"address",label:"Address",type:"textarea",inputClass:"input-class"},{name:"collegeCourses",label:"Courses",inputClass:"input-class",type:"multi-select",required:!0,options:c.map(e=>({label:e.name,value:e.id}))}],C=e=>{const a=N({...e});t((s?E:S)(a)).unwrap().then(f=>{g("/collegeList"),i(f.message,"success")})},p=o.useCallback(e=>{d(a=>({...a,...e}))},[]);return o.useEffect(()=>{t(s?y({id:s}):v({id:s})),t(A())},[s]),o.useEffect(()=>{if(r.current&&s){const e={id:l.id,name:l.name,address:l.address};l.collegeCourses&&(e.collegeCourses=[...l.collegeCourses].map(a=>a.id)),r.current.resetForm({...e})}else r.current.resetForm({id:null,name:null,address:null,collegeCourses:null})},[l]),n.jsxs("div",{className:"max-w-6xl mx-auto p-6 rounded-2xl shadow-formShadow my-10 border border-[#FFA167] gradient-bg",children:[n.jsx("h1",{className:" text-3xl font-bold text-center text-[#F68713] mb-8",children:"Add College"}),n.jsx(R,{ref:r,formConfig:m,onSubmit:C,handleFieldChange:p,gridClass:"grid grid-cols-1  gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})]})};export{k as default};
