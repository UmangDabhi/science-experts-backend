import{d as u,j as e,h as f,aG as B,a as F,r as x,k,f as A}from"./index-BHaB7y-4.js";import{u as E}from"./usePagination-DaoM3Tl0.js";import{N as R}from"./NoteComponent-DycXnFlL.js";import{C as M}from"./courseComponent-Bl0wLF3F.js";import{R as T}from"./SearchOutlined-D1BV3zbB.js";const L=({selectedCategory:l,setSelectedCategory:c,setSelectedStandard:t,selectedStandard:m,selectedSortBy:i,setSelectedSortBy:p})=>{const{categories:o}=u(s=>s.category),{standards:r}=u(s=>s.standard);return e.jsx("div",{className:"w-3/12 ",children:e.jsxs("div",{className:"mx-3 p-3 shadow-lg rounded-xl bg-white/50 border border-gray-200",children:[e.jsx("div",{className:"font-bold text-3xl",children:"Filters"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xl my-2",children:"Categories"}),e.jsxs("ul",{className:"space-y-2 max-h-40 overscroll-y-scroll hide-scrollbar",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"category",name:"category",className:"accent-blue-600",checked:!l,onChange:()=>c(null)}),e.jsx("label",{htmlFor:"category",className:"text-sm cursor-pointer",children:"All"})]}),[...o].map((s,a)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:`category-${a}`,name:"category",value:s.category,className:"accent-blue-600",checked:l===s.category,onChange:()=>c(s.category)}),e.jsx("label",{htmlFor:`category-${a}`,className:"text-sm cursor-pointer",children:s.category})]},a))]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xl my-2",children:"Standards"}),e.jsxs("ul",{className:"space-y-2 max-h-40 overscroll-y-scroll hide-scrollbar",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"standard",name:"standard",className:"accent-blue-600",checked:!m,onChange:()=>t(null)}),e.jsx("label",{htmlFor:"standard",className:"text-sm cursor-pointer",children:"All"})]}),[...r].map((s,a)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:`standard-${a}`,name:"standard",value:s.standard,className:"accent-blue-600",checked:m===s.standard,onChange:()=>t(s.standard)}),e.jsx("label",{htmlFor:`standard-${a}`,className:"text-sm cursor-pointer",children:s.standard})]},a))]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xl my-2",children:"Sort By"}),e.jsxs("ul",{className:"space-y-2 max-h-40 overscroll-y-scroll hide-scrollbar",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"SortBy",name:"SortBy",className:"accent-blue-600",checked:!i,onChange:()=>p(null)}),e.jsx("label",{htmlFor:"SortBy",className:"text-sm cursor-pointer",children:"All"})]}),["Most Populer","Newest First","Price:Low to High","Price:High to Low"].map((s,a)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:`SortBy-${a}`,name:"SortBy",value:s,className:"accent-blue-600",checked:i===s,onChange:()=>p(s)}),e.jsx("label",{htmlFor:`SortBy-${a}`,className:"text-sm cursor-pointer",children:s})]},a))]})]})]})})},I=({isCourse:l,isNote:c})=>{const{materials:t,totalMaterials:m}=u(o=>o.material),{courses:i,totalCourses:p}=u(o=>o.course);return e.jsxs("div",{className:"w-9/12 max-h-[calc(100vh-2rem)] overflow-y-auto pb-5 hide-scrollbar",children:[l&&e.jsx("div",{className:"gap-3 grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1",children:[...i].map((o,r)=>e.jsx(M,{course:o,className:"bg-white/50 border border-gray-200"},r))}),c&&e.jsx("div",{className:"gap-3 grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1",children:t==null?void 0:t.map((o,r)=>e.jsx(R,{material:o,className:"bg-white/50 border border-gray-200"},r))})]})},G=({isCourse:l,isNote:c,setSearch:t})=>{const{theme:m}=f();return e.jsx("div",{className:"p-3 relative h-fit w-full flex  whitespace-nowrap justify-center items-center ",children:e.jsxs("div",{className:"relative w-4/6 ",children:[e.jsx("input",{id:"search",className:"pl-5 pr-14 border-2 border-solid text-black border-white focus-visible:border-white rounded-full py-3 px-3 w-full placeholder-gray-500 shadow-2xl",placeholder:`Search  ${l?"Courses":""} ${c?"Notes":""}`,onChange:i=>t(i.target.value)}),e.jsx(T,{className:`text-2xl absolute right-4 p-2 rounded-full top-1.5 ${m.PRIMARY_BG} text-white`})]})})},J=({isCourse:l=!1,isNote:c=!1})=>{const[t]=B(),{categories:m}=u(n=>n.category),{standards:i}=u(n=>n.standard),{showToast:p}=F(),{theme:o}=f(),[r,s]=x.useState(null),[a,y]=x.useState(null),[b,j]=x.useState(null),[N,v]=x.useState({}),{page:w,setPage:H,limit:S,setLimit:Y,search:P,setSearch:$,fetchData:C}=E(l?k:c?A:()=>{},N,n=>{},n=>p(n,"error"));return x.useEffect(()=>{C()},[N,w,S,P]),x.useEffect(()=>{const n=t.get("category")||null,h=t.get("standard")||null,d=t.get("sortby")||null;s(n),y(h),j(d)},[t]),x.useEffect(()=>{v(n=>{const h={...n};if((r==null?void 0:r.category)!=="All"){const d=m.find(g=>g.category===(r==null?void 0:r.category));h.category=d==null?void 0:d.id}else delete h.category;if(a){const d=i.find(g=>g.standard===a);h.standard=d==null?void 0:d.id}else delete h.standard;return h})},[r,a]),e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold text-center ${o.PRIMARY_TEXT} pt-6 `,children:`Explore Our ${l?"Courses":""} ${c?"Notes":""}`}),e.jsx(G,{isCourse:l,isNote:c,setSearch:$}),e.jsxs("div",{className:"flex m-4",children:[e.jsx(L,{selectedCategory:r,selectedSortBy:b,selectedStandard:a,setSelectedCategory:s,setSelectedSortBy:j,setSelectedStandard:y}),e.jsx(I,{isCourse:l,isNote:c})]})]})};export{J as P};
