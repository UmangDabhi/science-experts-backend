import{f as k,a as O,e as V,r as _,j as t,cg as R,ch as p,ci as G,cj as u,s as J}from"./index-BHBvR4s_.js";import{A as L,R as $}from"./AntdTable-jt2IfL_U.js";import{A as B,R as z}from"./ActionButtons-Clx1Wuyp.js";import{u as h,C as g}from"./useModal-BXwleGl_.js";import{u as Q}from"./usePagination-DQXEPmy2.js";import{R as s}from"./RecordDiv-C9cb_ZfH.js";import"./ContextIsolator-r72C00t8.js";import"./index-Crai6NJu.js";import"./index-B3FzYEoF.js";import"./CheckOutlined-AJGDHkLH.js";import"./CloseCircleFilled-BvvlV37D.js";import"./SearchOutlined-CWc0UIQh.js";const l={PENDING:"PENDING",APPROVED:"APPROVED",REJECTED:"REJECTED"},oe=()=>{const{dispatch:o}=J,{tutorReqs:f,totalTutorReqs:j,selectedTutorReq:e}=k(a=>a.tutor),{showToast:i}=O(),{isOpen:b,openModal:E,closeModal:v}=h(),{isOpen:D,openModal:w,closeModal:r}=h(),{theme:y}=V(),{page:c,setPage:A,limit:x,setLimit:M,search:T,setSearch:X,fetchData:m}=Q(R,{},a=>{},a=>i(a,"error"));_.useEffect(()=>{m()},[c,x]);const N=(a,n)=>{A(a),M(n)},P=[{title:"Tutor Name",dataIndex:"name",key:"name"},{title:"Tutor Email",dataIndex:"email",key:"email"},{title:"Phone No",dataIndex:"phone_no",key:"phone_no"},{title:"Experience",dataIndex:"experience",key:"experience"},{title:"Status",dataIndex:"status",key:"status",render:a=>t.jsx(d,{status:a})},{title:"Action",key:"action",render:(a,n)=>t.jsx(B,{className:"flex flex-wrap justify-center items-center",buttons:[{text:"View",onClick:()=>{o(p(n)),E()},icon:$,color:{text:"text-blue-700",bg:"bg-blue-100",hover:"hover:bg-blue-200"}},{text:"Delete",onClick:()=>{o(p(n)),w()},icon:z,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],C=a=>{switch(a){case l.APPROVED:return"bg-green-100 text-green-700 border-green-300";case l.REJECTED:return"bg-red-100 text-red-700 border-red-300";case l.PENDING:default:return"bg-yellow-100 text-yellow-700 border-yellow-300"}},S=()=>{o(G(e)).unwrap().then(a=>{r(),m(),o(u()),i(a.message,"success")}).catch(a=>{i(a,"error")})},I=()=>{v(),o(u())},d=({status:a})=>t.jsx("div",{className:`inline-block px-3 py-1 rounded-full border text-sm font-semibold ${C(a)}`,children:a});return t.jsxs("div",{children:[t.jsx("div",{className:"flex justify-between items-center mb-4 mx-12 mt-2",children:t.jsx("h1",{className:`text-2xl font-bold text-center ${y.PRIMARY_TEXT}`,children:"Tutor Request Management"})}),t.jsx(L,{columns:P,dataSource:f,current:c,pageSize:x,total:j,onChange:N}),t.jsx(g,{title:"Tutor Application Details",isOpen:b,onCancel:I,footer:null,children:t.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[t.jsx(s,{title:"Name",value:e==null?void 0:e.name}),t.jsx(s,{title:"Email",value:e==null?void 0:e.email}),t.jsx(s,{title:"Phone Number",value:e==null?void 0:e.phone_no}),t.jsx(s,{title:"Qualifications",value:e==null?void 0:e.qualifications}),t.jsx(s,{title:"Experience",value:e==null?void 0:e.experience}),t.jsx(s,{title:"Message",value:e==null?void 0:e.message}),t.jsx(s,{title:"Reason for Applying",value:e==null?void 0:e.reason}),t.jsx(s,{title:"Status",value:t.jsx(d,{status:e==null?void 0:e.status})}),t.jsx(s,{title:"Applied At",value:e!=null&&e.applied_at?new Date(e.applied_at).toLocaleString():"â€”"}),(e==null?void 0:e.reviewed_at)&&t.jsx(s,{title:"Reviewed At",value:new Date(e.reviewed_at).toLocaleString()})]})}),t.jsx(g,{title:"Confirm Deletion",isOpen:D,onCancel:r,onOk:S,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{oe as default};
