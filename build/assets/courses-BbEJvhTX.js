import{ak as C,j as e,aw as k,u as A,d as m,a as E,r,f as P}from"./index-CGpXYQek.js";import{R as B}from"./index-rG4kItKT.js";import{P as R}from"./Pagination-CaSZzgEY.js";import{u as $}from"./usePagination-2bwPtDCo.js";import{R as T}from"./SearchOutlined-Cnnms6xk.js";import"./index-Bw7rXCEz.js";const _=({course:a,handleCourseClick:c})=>{const{rating:n,views:x,videos:o,duration:h}=C(a);return e.jsxs("div",{className:"flex w-full gap-3 bg-[#FFDBC4E5] cursor-pointer",onClick:()=>c(a.id),children:[e.jsx("div",{className:"flex-shrink-0 w-1/4 h-32 overflow-hidden",children:e.jsx("img",{src:a==null?void 0:a.thumbnail_url,alt:a==null?void 0:a.title,className:"object-cover w-full h-full"})}),e.jsxs("div",{className:"flex flex-col justify-between flex-grow p-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold",children:a==null?void 0:a.title}),e.jsx("p",{className:"italic",children:a==null?void 0:a.description})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:n}),e.jsx(B,{className:"px-1",value:n,disabled:!0,allowHalf:!0}),e.jsxs("span",{children:["(",x,")"]})]}),e.jsx("div",{children:e.jsxs("span",{children:[h," Total Hours (",o," videos)"]})}),e.jsx("div",{children:e.jsx("span",{children:a!=null&&a.is_paid&&JSON.parse(a==null?void 0:a.is_paid)?`â‚¹ ${a==null?void 0:a.price}`:"Free"})})]})]})]})},G=()=>{const[a]=k(),c=A(),{courses:n,totalCourses:x}=m(t=>t.course),{categories:o}=m(t=>t.category),{standards:h}=m(t=>t.standard),{showToast:j}=E(),[s,f]=r.useState({category:"All"}),[d,w]=r.useState(null),[g,v]=r.useState({}),{page:u,setPage:b,limit:N,setLimit:D,search:H,setSearch:y,fetchData:F}=$(P,g,t=>{},t=>j(t,"error"));r.useEffect(()=>{F()},[g]),r.useEffect(()=>{const t=a.get("category")||"All",l=a.get("class")||null;f({category:t}),w(l)},[a]),r.useEffect(()=>{v(t=>{const l={...t};if((s==null?void 0:s.category)!=="All"){const i=o.find(p=>p.category===(s==null?void 0:s.category));l.category=i==null?void 0:i.id}else delete l.category;if(d){const i=h.find(p=>p.standard===d);l.standard=i==null?void 0:i.id}else delete l.standard;return l})},[s,d]);const S=t=>{c(`/course/preview/${t}`)};return e.jsxs("div",{className:"bg-gray-50 ",children:[e.jsxs("h1",{className:"text-3xl font-bold text-center text-[#FB6000C4] pt-4 mb-8",children:[" ",d||"All Courses"]}),e.jsx("div",{className:"bg-[#FF6B0FB2] p-5 my-5 h-fit w-full flex  whitespace-nowrap ",children:e.jsxs("div",{className:"flex   overflow-x-auto gap-8  hide-scrollbar",children:[e.jsx("span",{onClick:()=>{f({category:"All"})},className:`${s&&(s==null?void 0:s.category)=="All"?"bg-[#FF6200E5]  text-white":"bg-white text-black"} px-3 py-2 text-lg rounded-full cursor-pointer`,children:"All"}),o.map((t,l)=>e.jsx("span",{onClick:()=>{f(t)},className:`${s&&t.category==(s==null?void 0:s.category)?"bg-[#FF6200E5]  text-white":"bg-white text-black"} px-3 py-2 text-lg rounded-full cursor-pointer`,children:t.category}))]})}),e.jsx("div",{className:"p-5 relative my-5 h-fit w-full flex  whitespace-nowrap justify-center items-center ",children:e.jsxs("div",{className:"relative w-4/6 ",children:[e.jsx(T,{className:"text-2xl absolute left-4 top-2 text-white"}),e.jsx("input",{id:"search",className:"bg-[#FB6000] pl-14 border-2 border-solid text-white border-white focus-visible:border-white rounded-full py-2 px-3 w-full",placeholder:"Search Course",onChange:t=>y(t.target.value)})]})}),e.jsx("div",{className:"flex flex-col gap-3",children:n==null?void 0:n.map((t,l)=>e.jsx(_,{course:t,handleCourseClick:S}))}),e.jsx(R,{total:Math.floor(x/N),goto:b,page:u})]})};export{G as default};
