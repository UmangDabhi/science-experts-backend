import{y as A,u as w,d as N,h as T,a as v,r as D,j as t,az as R,aA as O,aB as k,aC as $,aD as E,s as I}from"./index-JjPhpDDT.js";import{A as P,R as S}from"./ActionButtons-DBCN-f6D.js";import{u as B,A as L,C as z}from"./useModal-C2s8J9MP.js";import{u as _}from"./usePagination-DyUZ14cW.js";import{R as U}from"./EditOutlined-MOON3C70.js";import"./index-CLWyamHD.js";import"./omit-DBQpw8q4.js";import"./SearchOutlined-DIu3R5qk.js";const W=()=>{const{dispatch:o}=I,{courseId:a}=A(),n=w(),{materials:u,totalMaterials:h,selectedMaterial:x}=N(e=>e.material),{theme:r}=T(),{showToast:l}=v(),{page:i,setPage:p,limit:c,setLimit:g,search:X,setSearch:Y,fetchData:d}=_(a?R:O,{courseId:a},()=>{},e=>l(e,"error")),{isOpen:M,openModal:f,closeModal:m}=B();D.useEffect(()=>{d()},[i,c]);const b=[{title:"Note Title",dataIndex:"title",key:"title"},{title:"Action",key:"action",render:(e,s)=>t.jsx(P,{buttons:[{text:"Edit",onClick:()=>{n(`/addMaterial/${a||"-"}/${s.id}`)},icon:U,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{o(k(s)),f()},icon:S,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],C=(e,s)=>{p(e),g(s)},j=()=>{n(`/addmaterial/${a||"-"}`)},y=()=>{o($(x)).unwrap().then(e=>{m(),d(),o(E()),l(e.message,"success")}).catch(e=>{l(e,"error")})};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 my-2",children:[t.jsx("h1",{className:`text-2xl font-bold text-center ${r.PRIMARY_TEXT}`,children:"Note Management"}),t.jsx("button",{onClick:j,className:`${r.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Note"})]}),t.jsx(L,{columns:b,dataSource:u,current:i,pageSize:c,total:h,onChange:C}),t.jsx(z,{title:"Confirm Deletion",isOpen:M,onCancel:m,onOk:y,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{W as default};
