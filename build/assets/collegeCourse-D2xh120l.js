import{e as I,a as P,d as _,r as a,j as o,bO as L,bV as f,bW as $,bX as B,bY as U,bZ as b,s as V}from"./index-CDERYnxk.js";import{D as X}from"./DynamicForm-CNx3eauH.js";import{A as Y,R as q}from"./ActionButtons-C7LYG4ua.js";import{u as M,A as z,C as j}from"./useModal-18kVn7Ol.js";import{S as W}from"./Search-D5qscPCK.js";import{C as Z}from"./CommonClass-DJyhl18r.js";import{u as G}from"./usePagination-CjnbuHya.js";import{R as H}from"./EditOutlined-D3syY8vT.js";import"./index-DksCXYEp.js";import"./index-CaIuqpcM.js";import"./CloseCircleFilled-Dx5UE-Ut.js";import"./SearchOutlined-CxKAjTKo.js";const ce=()=>{const{dispatch:s}=V,{collegeCourses:y,totalCollegeCourses:O,selectedCollegeCourse:t}=I(e=>e.collegeCourse),{showToast:r}=P(),{isOpen:w,openModal:C,closeModal:E}=M(),{isOpen:S,openModal:A,closeModal:i}=M(),{theme:m}=_(),n=a.useRef(),{page:g,setPage:h,limit:p,setLimit:N,search:x,setSearch:R,fetchData:c}=G(L,{},e=>{},e=>r(e,"error"));a.useEffect(()=>{c()},[g,p,x]),a.useEffect(()=>{h(1)},[x]);const T=(e,l)=>{h(e),N(l)},k=[{title:"College Course Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:(e,l)=>o.jsx(Y,{buttons:[{text:"Edit",onClick:()=>{s(f(l)),C()},icon:H,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{A(),s(f(l))},icon:q,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],D=[Object.keys(t).length&&{name:"id",label:"id",type:"hidden"},{name:"name",label:"College Course Name",type:"text",inputClass:Z.COMMON_INPUT,required:!0}],v=e=>{const l=Object.keys(t).length?$:B;s(l(e)).unwrap().then(u=>{d(),c(),r(u.message,"success")}).catch(u=>{d(),r(u,"error")})},F=()=>{s(U(t)).unwrap().then(e=>{i(),c(),s(b()),r(e.message,"success")}).catch(e=>{i(),r(e,"error")})};a.useEffect(()=>{n.current&&t&&n.current.resetForm({...t})},[t]);const d=()=>{E(),n.current.resetForm({collegeCourse:null}),s(b())};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 mt-2",children:[o.jsx("h1",{className:`text-2xl font-bold text-center ${m.PRIMARY_TEXT}`,children:"College Course Management"}),o.jsxs("div",{className:"flex items-center w-1/3",children:[o.jsx(W,{displayText:"College Course",setSearch:R}),o.jsx("button",{onClick:C,className:`${m.COLOR_BUTTON} text-white  font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add College Course"})]})]}),o.jsx(z,{columns:k,dataSource:y,current:g,pageSize:p,total:O,onChange:T}),o.jsx(j,{title:Object.keys(t).length?"Edit College Course":"Add College Course",isOpen:w,onCancel:d,footer:null,children:o.jsx(X,{ref:n,formConfig:D,onSubmit:v,initialValues:t,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] hover:bg-[#FF0000] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),o.jsx(j,{title:"Confirm Deletion",isOpen:S,onCancel:i,onOk:F,children:o.jsx("p",{children:"Are you sure you want to delete this College Course?"})})]})};export{ce as default};
