import{f as R,a as k,e as q,r as p,j as t,an as N,ao as S,T as F,ap as I,aq as h,s as L}from"./index-BcRwkSsD.js";import{D as $}from"./DynamicForm-DkN4K_GE.js";import{A as v}from"./AntdTable-bZUOZPDo.js";import{u as x,C as T}from"./useModal-CBS5yuFx.js";import{u as _}from"./usePagination-gSqzp4m1.js";import"./ContextIsolator-C-nMO9CV.js";import"./index-BgGJ-rUN.js";import"./index-CMDjKS1u.js";import"./CheckOutlined--efkMzWh.js";import"./CloseCircleFilled-aeeG_Ypx.js";import"./SearchOutlined-B2VPFMoM.js";const te=()=>{const{dispatch:o}=L,{tutors:g,totalTutors:f,selectedTutor:r}=R(e=>e.tutor),{showToast:s}=k(),{isOpen:b,openModal:w,closeModal:C}=x(),{isOpen:y,openModal:z,closeModal:l}=x(),{theme:i}=q(),d=p.useRef(),{page:u,setPage:M,limit:c,setLimit:j,search:U,setSearch:Z,fetchData:n}=_(N,{},e=>{},e=>s(e,"error"));p.useEffect(()=>{n()},[u,c]);const O=(e,a)=>{M(e),j(a)},E=[{title:"Tutor Id",dataIndex:"stu_id",key:"stu_id"},{title:"Tutor Name",dataIndex:"name",key:"name"},{title:"Tutor Email",dataIndex:"email",key:"email"}],A=[Object.keys(r).length&&{name:"id",label:"id",type:"hidden"},{name:"name",label:"Tutor Name",type:"text",inputClass:"input-class",required:!0},{name:"email",label:"Tutor Email",type:"email",inputClass:"input-class",required:!0},{name:"password",label:"Tutor Password",type:"password",inputClass:"input-class",minLength:8,required:!0,pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,message:"Password must be at least 8 characters long, include at least one uppercase letter, one lowercase letter, one digit, and one special character."},errorMessages:{required:"Password is required",minLength:"Password must be at least 8 characters",pattern:"Password must include at least one uppercase letter, one lowercase letter, one digit, and one special character."}}],P=e=>{o(S({...e,role:F.TUTOR})).unwrap().then(a=>{m(),n(),s(a.message,"success")}).catch(a=>{s(a,"error")})},D=()=>{o(I(r)).unwrap().then(e=>{l(),n(),o(h()),s(e.message,"success")}).catch(e=>{s(e,"error")})},m=()=>{C(),d.current.resetForm({name:null,role:null,email:null,password:null}),o(h())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 mt-2",children:[t.jsx("h1",{className:`text-2xl font-bold text-center ${i.PRIMARY_TEXT}`,children:"Tutor Management"}),t.jsx("button",{onClick:w,className:`${i.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Tutor"})]}),t.jsx(v,{columns:E,dataSource:g,current:u,pageSize:c,total:f,onChange:O}),t.jsx(T,{title:Object.keys(r).length?"Edit Tutor":"Add Tutor",isOpen:b,onCancel:m,footer:null,children:t.jsx($,{ref:d,formConfig:A,onSubmit:P,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(T,{title:"Confirm Deletion",isOpen:y,onCancel:l,onOk:D,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{te as default};
