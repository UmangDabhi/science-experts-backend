import{r as d,I as q,_ as F,u as I,d as p,a as O,G as R,j as o,H as D,w as E,E as P,s as S,J as $,K as _,A as T}from"./index-BuvaiK4F.js";import{A as z,R as B}from"./ActionButtons-qo8v4jKe.js";import{u as L,A as H,C as V}from"./useModal-B7YKrN3B.js";import{u as G}from"./usePagination-DlUMNq-A.js";import{S as J}from"./index-BbMNmIpi.js";import{R as K}from"./EditOutlined-NKOTF9FS.js";import"./index-CgTGH0Fh.js";import"./omit-CDp5QI1c.js";import"./SearchOutlined-DgAFQpTE.js";var Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},U=function(s,r){return d.createElement(q,F({},s,{ref:r,icon:Q}))},x=d.forwardRef(U);const le=()=>{const{dispatch:a}=S,s=I(),{userData:r}=p(e=>e.auth),{courses:g,totalCourses:m,selectedCourse:v}=p(e=>e.course),{showToast:n}=O(),{page:c,setPage:C,limit:u,setLimit:b,search:W,setSearch:X,fetchData:l}=G($,{},e=>{},e=>n(e,"error")),{isOpen:f,openModal:w,closeModal:h}=L();d.useEffect(()=>{l()},[c,u]);const A=[{title:"Course Title",dataIndex:"title",key:"title"},...(r==null?void 0:r.role)==R.ADMIN?[{title:"Approval",dataIndex:"is_approved",key:"is_approved",render:(e,t)=>o.jsx(J,{onChange:i=>M(t,i),checkedChildren:"Approved",unCheckedChildren:"Not Approved",style:{backgroundColor:"#FF6200"},value:e})}]:[],{title:"Action",key:"action",render:(e,t)=>o.jsx(z,{buttons:[{text:"Module",onClick:()=>{s(`/courses/module/${t.id}`)},icon:x,color:{text:"text-white",bg:"bg-green-500",hover:"hover:bg-green-600"},tooltip:"Add New"},{text:"Notes",onClick:()=>{s(`/material/${t.id}`)},icon:x,color:{text:"text-white",bg:"bg-green-500",hover:"hover:bg-green-600"},tooltip:"Add New"},{text:"Edit",onClick:()=>{s(`/addcourse/${t.id}`)},icon:K,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{a(D(t)),w()},icon:B,color:{text:"text-red-600",bg:"bg-red-100",hover:"hover:bg-red-200"}}]})}].filter(Boolean),j=(e,t)=>{C(e),b(t)},k=()=>{s("/addcourse")},y=()=>{a(_(v)).unwrap().then(e=>{h(),l(),a(T()),n(e.message,"success")}).catch(e=>{n(e,"error")})},M=(e,t)=>{const i=E({id:e.id,is_approved:t});a(P(i)).unwrap().then(N=>{l(),n(N.message,"success")})};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[o.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Course Management"}),o.jsx("button",{onClick:k,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Course"})]}),o.jsx(H,{columns:A,dataSource:g,current:c,pageSize:u,total:m,onChange:j}),o.jsx(V,{title:"Confirm Deletion",isOpen:f,onCancel:h,onOk:y,children:o.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{le as default};
