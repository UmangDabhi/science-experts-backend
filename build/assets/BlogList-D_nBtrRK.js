import{u as k,d as c,a as M,r as F,G as N,j as t,b6 as D,w as R,b4 as S,s as E,b7 as I,b8 as O,b3 as T}from"./index-8ZuSOXzc.js";import{A as L,R as P}from"./ActionButtons-CoSJ0NAn.js";import{u as _,A as $,C as z}from"./useModal-YdYAIeMO.js";import{u as G}from"./usePagination-DG3OiguR.js";import{S as V}from"./index-Cw2IlCgH.js";import{R as q}from"./EditOutlined-BD7CJINb.js";import"./index-BZTDRgLg.js";import"./omit-7RZO9xcn.js";import"./SearchOutlined-lWO6aI9I.js";const oe=()=>{const{dispatch:s}=E,d=k(),{userData:n}=c(e=>e.auth),{blogs:g,totalBlogs:p,selectedBlog:h}=c(e=>e.blog),{showToast:a}=M(),{page:u,setPage:m,limit:x,setLimit:b,search:H,setSearch:J,fetchData:l}=G(I,{},e=>{},e=>a(e,"error")),{isOpen:f,openModal:v,closeModal:i}=_();F.useEffect(()=>{l()},[]);const A=[{title:"Blog Title",dataIndex:"title",key:"title"},...(n==null?void 0:n.role)===N.ADMIN?[{title:"Approval",dataIndex:"is_approved",key:"is_approved",render:(e,o)=>t.jsx(V,{onChange:r=>j(o,r),checkedChildren:"Approved",unCheckedChildren:"Not Approved",style:{backgroundColor:"#FF6200"},checked:e})}]:[],{title:"Action",key:"action",render:(e,o)=>t.jsx(L,{buttons:[{text:"Edit",onClick:()=>{d(`/addblog/${o.id}`)},icon:q,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{s(D(o)),v()},icon:P,color:{text:"text-red-600",bg:"bg-red-100",hover:"hover:bg-red-200"}}]})}].filter(Boolean),B=(e,o)=>{m(e),b(o),l()},C=()=>{d("/addblog")},w=()=>{s(O(h)).unwrap().then(e=>{i(),l(),s(T()),a(e.message,"success")}).catch(e=>{a(e,"error")})},j=(e,o)=>{const r=R({id:e.id,is_approved:o});s(S(r)).unwrap().then(y=>{l(),a(y.message,"success")})};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[t.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Blog Management"}),t.jsx("button",{onClick:C,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Blog"})]}),t.jsx($,{columns:A,dataSource:g,current:u,pageSize:x,total:p,onChange:B}),t.jsx(z,{title:"Confirm Deletion",isOpen:f,onCancel:i,onOk:w,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{oe as default};
