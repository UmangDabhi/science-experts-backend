import{e as v,a as F,d as I,r as m,j as t,E as P,a6 as y,a7 as _,a8 as L,a9 as $,aa as C,s as B}from"./index-Cbji9Z_j.js";import{D as U}from"./DynamicForm-CqN5M3be.js";import{A as q,R as z}from"./ActionButtons-1ON5_AcW.js";import{u as x,A as V,C as f}from"./useModal-BYAEQ0S4.js";import{u as X}from"./usePagination-CnTrtfsK.js";import{C as Y}from"./CommonClass-DJyhl18r.js";import{R as G}from"./EditOutlined-CFOlgMDr.js";import"./index-CqAPGmzH.js";import"./index-C_CFN-wi.js";import"./omit-Bw8rg_zI.js";import"./SearchOutlined-IbJiuxN3.js";const le=()=>{const{dispatch:a}=B,{categories:b,totalCategories:M,selectedCategory:o}=v(e=>e.category),{showToast:r}=F(),{isOpen:O,openModal:g,closeModal:j}=x(),{isOpen:w,openModal:E,closeModal:l}=x(),{theme:u}=I(),n=m.useRef(),{page:h,setPage:A,limit:p,setLimit:R,search:H,setSearch:J,fetchData:i}=X(P,{},e=>{},e=>r(e,"error"));m.useEffect(()=>{i()},[h,p]);const S=(e,s)=>{A(e),R(s)},k=[{title:"Category Name",dataIndex:"category",key:"category"},{title:"Action",key:"action",render:(e,s)=>t.jsx(q,{buttons:[{text:"Edit",onClick:()=>{a(y(s)),g()},icon:G,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{E(),a(y(s))},icon:z,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],D=[Object.keys(o).length&&{name:"id",label:"id",type:"hidden"},{name:"category",label:"Category Name",type:"text",inputClass:Y.COMMON_INPUT,required:!0}],N=e=>{const s=Object.keys(o).length?_:L;a(s(e)).unwrap().then(d=>{c(),i(),r(d.message,"success")}).catch(d=>{c(),r(d,"error")})},T=()=>{a($(o)).unwrap().then(e=>{l(),i(),a(C()),r(e.message,"success")}).catch(e=>{l(),r(e,"error")})};m.useEffect(()=>{n.current&&o&&n.current.resetForm({...o})},[o]);const c=()=>{j(),n.current.resetForm({category:null}),a(C())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 my-2",children:[t.jsx("h1",{className:`text-2xl font-bold text-center ${u.PRIMARY_TEXT}`,children:"Category Management"}),t.jsx("button",{onClick:g,className:`${u.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Category"})]}),t.jsx(V,{columns:k,dataSource:b,current:h,pageSize:p,total:M,onChange:S}),t.jsx(f,{title:Object.keys(o).length?"Edit Category":"Add Category",isOpen:O,onCancel:c,footer:null,children:t.jsx(U,{ref:n,formConfig:D,onSubmit:N,initialValues:o,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] hover:bg-[#FF0000] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(f,{title:"Confirm Deletion",isOpen:w,onCancel:l,onOk:T,children:t.jsx("p",{children:"Are you sure you want to delete this category?"})})]})};export{le as default};
