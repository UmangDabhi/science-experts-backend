import{r as c,I as R,_ as I,u as T,e as x,d as $,a as q,K as D,j as o,N as E,x as P,H as _,s as S,O as B,Q as L,D as z}from"./index-BjzhHNWB.js";import{A as H,R as V}from"./ActionButtons-DZLlChLL.js";import{u as F,A as K,C as Q}from"./useModal-CeA2eETP.js";import{u as U}from"./usePagination-D_Pp7t-_.js";import{S as X}from"./index-BqQW5MAq.js";import{R as Y}from"./EditOutlined-Cicr4L2b.js";import"./index-D62oXebL.js";import"./index-BWe-oDl7.js";import"./omit-mXK9d7Ip.js";import"./SearchOutlined-DgCxFSr-.js";var G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},J=function(s,r){return c.createElement(R,I({},s,{ref:r,icon:G}))},d=c.forwardRef(J);const ce=()=>{const{dispatch:a}=S,s=T(),{userData:r}=x(e=>e.auth),{courses:g,totalCourses:v,selectedCourse:C}=x(e=>e.course),{theme:u}=$(),{showToast:n}=q(),{page:h,setPage:f,limit:p,setLimit:b,search:W,setSearch:Z,fetchData:l}=U(B,{},e=>{},e=>n(e,"error")),{isOpen:w,openModal:A,closeModal:m}=F();c.useEffect(()=>{l()},[h,p]);const N=[{title:"Course Title",dataIndex:"title",key:"title"},...(r==null?void 0:r.role)==D.ADMIN?[{title:"Approval",dataIndex:"is_approved",key:"is_approved",width:"10%",render:(e,t)=>o.jsx(X,{onChange:i=>O(t,i),checkedChildren:"Approved",unCheckedChildren:"Not Approved",style:{backgroundColor:"#F68713"},value:e})}]:[],{title:"Action",key:"action",width:"33%",className:"flex flex-wrap justify-center items-center",render:(e,t)=>o.jsx(H,{className:"flex flex-wrap justify-center items-center",buttons:[{text:"Order",onClick:()=>{s(`/ManageOrder/${t.id}`)},icon:d,color:{text:"text-white",bg:"bg-green-500",hover:"hover:bg-green-600"},tooltip:"Add New"},{text:"Module",onClick:()=>{s(`/courses/module/${t.id}`)},icon:d,color:{text:"text-white",bg:"bg-green-500",hover:"hover:bg-green-600"},tooltip:"Add New"},{text:"Notes",onClick:()=>{s(`/material/${t.id}`)},icon:d,color:{text:"text-white",bg:"bg-green-500",hover:"hover:bg-green-600"},tooltip:"Add New"},{text:"Edit",onClick:()=>{s(`/addcourse/${t.id}`)},icon:Y,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{a(E(t)),A()},icon:V,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}].filter(Boolean),y=(e,t)=>{f(e),b(t)},j=()=>{s("/addcourse")},M=()=>{a(L(C)).unwrap().then(e=>{m(),l(),a(z()),n(e.message,"success")}).catch(e=>{n(e,"error")})},O=(e,t)=>{const i=P({id:e.id,is_approved:t});a(_(i)).unwrap().then(k=>{l(),n(k.message,"success")})};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 my-2",children:[o.jsx("h1",{className:`text-2xl font-bold text-center ${u.PRIMARY_TEXT}`,children:"Course Management"}),o.jsx("button",{onClick:j,className:`${u.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Course"})]}),o.jsx(K,{columns:N,dataSource:g,current:h,pageSize:p,total:v,onChange:y}),o.jsx(Q,{title:"Confirm Deletion",isOpen:w,onCancel:m,onOk:M,children:o.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{ce as default};
