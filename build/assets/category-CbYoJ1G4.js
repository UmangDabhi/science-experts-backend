import{d as N,a as R,r as g,j as t,B as I,a1 as p,a2 as P,a3 as T,a4 as _,a5 as y,s as B}from"./index-BuvaiK4F.js";import{D as L}from"./DynamicForm-D8HdTfzX.js";import{A as q,R as z}from"./ActionButtons-qo8v4jKe.js";import{u as C,A as U,C as x}from"./useModal-B7YKrN3B.js";import{u as V}from"./usePagination-DlUMNq-A.js";import{C as $}from"./CommonClass-Dpx7ipLY.js";import{R as G}from"./EditOutlined-NKOTF9FS.js";import"./index-CgTGH0Fh.js";import"./omit-CDp5QI1c.js";import"./SearchOutlined-DgAFQpTE.js";const se=()=>{const{dispatch:a}=B,{categories:f,totalCategories:b,selectedCategory:o}=N(e=>e.category),{showToast:r}=R(),{isOpen:M,openModal:m,closeModal:j}=C(),{isOpen:F,openModal:O,closeModal:l}=C(),n=g.useRef(),{page:u,setPage:w,limit:h,setLimit:A,search:H,setSearch:J,fetchData:i}=V(I,{},e=>{},e=>r(e,"error"));g.useEffect(()=>{i()},[u,h]);const E=(e,s)=>{w(e),A(s)},S=[{title:"Category Name",dataIndex:"category",key:"category"},{title:"Action",key:"action",render:(e,s)=>t.jsx(q,{buttons:[{text:"Edit",onClick:()=>{a(p(s)),m()},icon:G,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{O(),a(p(s))},icon:z,color:{text:"text-red-600",bg:"bg-red-100",hover:"hover:bg-red-200"}}]})}],k=[Object.keys(o).length&&{name:"id",label:"id",type:"hidden"},{name:"category",label:"Category Name",type:"text",inputClass:$.COMMON_INPUT,required:!0}],D=e=>{const s=Object.keys(o).length?P:T;a(s(e)).unwrap().then(d=>{c(),i(),r(d.message,"success")}).catch(d=>{c(),r(d,"error")})},v=()=>{a(_(o)).unwrap().then(e=>{l(),i(),a(y()),r(e.message,"success")}).catch(e=>{l(),r(e,"error")})};g.useEffect(()=>{n.current&&o&&n.current.resetForm({...o})},[o]);const c=()=>{j(),n.current.resetForm({category:null}),a(y())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[t.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Category Management"}),t.jsx("button",{onClick:m,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Category"})]}),t.jsx(U,{columns:S,dataSource:f,current:u,pageSize:h,total:b,onChange:E}),t.jsx(x,{title:Object.keys(o).length?"Edit Category":"Add Category",isOpen:M,onCancel:c,footer:null,children:t.jsx(L,{ref:n,formConfig:k,onSubmit:D,initialValues:o,formClass:"space-y-8 w-full",submitClass:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(x,{title:"Confirm Deletion",isOpen:F,onCancel:l,onOk:v,children:t.jsx("p",{children:"Are you sure you want to delete this category?"})})]})};export{se as default};
