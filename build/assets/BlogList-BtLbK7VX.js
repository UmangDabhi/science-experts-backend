import{u as k,d as p,a as M,r as F,G as N,j as t,b7 as D,w as R,b5 as S,s as E,b8 as I,b9 as O,b4 as T}from"./index-COGDzE6e.js";import{A as L,R as P}from"./ActionButtons-B_f51UC9.js";import{u as _,A as $,C as z}from"./useModal-B0S3JuLO.js";import{u as G}from"./usePagination-D-SohoEy.js";import{S as V}from"./index-DraLGpJ7.js";import{R as q}from"./EditOutlined-COOIIDIR.js";import"./index-CF0rLYe-.js";import"./omit-DXAX7t4b.js";import"./SearchOutlined-KUZIcxtI.js";const oe=()=>{const{dispatch:s}=E,d=k(),{userData:l}=p(e=>e.auth),{blogs:h,totalBlogs:u,selectedBlog:m}=p(e=>e.blog),{showToast:a}=M(),{page:i,setPage:x,limit:c,setLimit:b,search:H,setSearch:J,fetchData:n}=G(I,{},e=>{},e=>a(e,"error")),{isOpen:f,openModal:v,closeModal:g}=_();F.useEffect(()=>{n()},[i,c]);const A=[{title:"Blog Title",dataIndex:"title",key:"title"},...(l==null?void 0:l.role)===N.ADMIN?[{title:"Approval",dataIndex:"is_approved",key:"is_approved",render:(e,o)=>t.jsx(V,{onChange:r=>j(o,r),checkedChildren:"Approved",unCheckedChildren:"Not Approved",style:{backgroundColor:"#FF6200"},checked:e})}]:[],{title:"Action",key:"action",render:(e,o)=>t.jsx(L,{buttons:[{text:"Edit",onClick:()=>{d(`/addblog/${o.id}`)},icon:q,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{s(D(o)),v()},icon:P,color:{text:"text-red-600",bg:"bg-red-100",hover:"hover:bg-red-200"}}]})}].filter(Boolean),B=(e,o)=>{x(e),b(o)},C=()=>{d("/addblog")},w=()=>{s(O(m)).unwrap().then(e=>{g(),n(),s(T()),a(e.message,"success")}).catch(e=>{a(e,"error")})},j=(e,o)=>{const r=R({id:e.id,is_approved:o});s(S(r)).unwrap().then(y=>{n(),a(y.message,"success")})};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[t.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Blog Management"}),t.jsx("button",{onClick:C,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Blog"})]}),t.jsx($,{columns:A,dataSource:h,current:i,pageSize:c,total:u,onChange:B}),t.jsx(z,{title:"Confirm Deletion",isOpen:f,onCancel:g,onOk:w,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{oe as default};
