import{u as C,e as w,d as y,a as A,r as M,j as o,bC as T,bD as v,bE as D,bz as R,s as O}from"./index-DVTEx8d8.js";import{A as E,R as N}from"./ActionButtons-BYoKUVBY.js";import{u as I,A as P,C as S}from"./useModal-BqGnaVaZ.js";import{u as $}from"./usePagination-Dc71XrlS.js";import{R as L}from"./EditOutlined-ZA4YIEOc.js";import"./index-g6S02KZ9.js";import"./index-Cdv0Vel6.js";import"./omit-DCSgeqyY.js";import"./SearchOutlined-CWkHhMaz.js";const Q=()=>{const{dispatch:s}=O,n=C(),{books:m,totalBooks:h,selectedBook:u}=w(e=>e.book),{theme:l}=y(),{showToast:a}=A(),{page:i,setPage:x,limit:r,setLimit:p,search:z,setSearch:_,fetchData:c}=$(T,{},()=>{},e=>a(e,"error")),{isOpen:k,openModal:b,closeModal:d}=I();M.useEffect(()=>{c()},[i,r]);const g=[{title:"Book Title",dataIndex:"title",key:"title"},{title:"Action",key:"action",render:(e,t)=>o.jsx(E,{buttons:[{text:"Edit",onClick:()=>{n(`/addBook/${t.id}`)},icon:L,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{s(v(t)),b()},icon:N,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],f=(e,t)=>{x(e),p(t)},B=()=>{n("/addbook")},j=()=>{s(D(u)).unwrap().then(e=>{d(),c(),s(R()),a(e.message,"success")}).catch(e=>{a(e,"error")})};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 my-2",children:[o.jsx("h1",{className:`text-2xl font-bold text-center ${l.PRIMARY_TEXT}`,children:"Book Management"}),o.jsx("button",{onClick:B,className:`${l.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Book"})]}),o.jsx(P,{columns:g,dataSource:m,current:i,pageSize:r,total:h,onChange:f}),o.jsx(S,{title:"Confirm Deletion",isOpen:k,onCancel:d,onOk:j,children:o.jsx("p",{children:"Are you sure you want to delete this Book?"})})]})};export{Q as default};
