import{f as F,a as I,e as P,r as l,j as t,Q as $,b2 as b,b3 as B,b4 as _,b5 as q,b6 as j,s as z}from"./index-BHBvR4s_.js";import{D as Q}from"./DynamicForm-BM92xfs2.js";import{A as U,R as V}from"./ActionButtons-Clx1Wuyp.js";import{u as y,C as L}from"./useModal-BXwleGl_.js";import{A as X}from"./AntdTable-jt2IfL_U.js";import{u as Y}from"./usePagination-DQXEPmy2.js";import{S as G}from"./Search-C0_NBMbw.js";import{R as H}from"./EditOutlined-DJ5ZnI8z.js";import"./index-B3FzYEoF.js";import"./ContextIsolator-r72C00t8.js";import"./index-Crai6NJu.js";import"./CloseCircleFilled-BvvlV37D.js";import"./CheckOutlined-AJGDHkLH.js";import"./SearchOutlined-CWc0UIQh.js";const ge=()=>{const{dispatch:s}=z,{languages:C,totalLanguages:M,selectedLanguage:a}=F(e=>e.language),{showToast:n}=I(),{isOpen:w,openModal:g,closeModal:O}=y(),{isOpen:E,openModal:A,closeModal:u}=y(),{theme:d}=P(),o=l.useRef(),{page:m,setPage:p,limit:h,setLimit:R,search:x,setSearch:k,fetchData:r}=Y($,{},e=>{},e=>n(e,"error"));l.useEffect(()=>{r()},[m,h,x]),l.useEffect(()=>{p(1)},[x]);const D=(e,i)=>{p(e),R(i)},T=[{title:"Language Name",dataIndex:"language",key:"language"},{title:"Action",key:"action",render:e=>t.jsx(U,{buttons:[{text:"Edit",onClick:()=>{s(b(e)),g()},icon:H,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{A(),s(b(e))},icon:V,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],v=[Object.keys(a).length&&{name:"id",label:"id",type:"hidden"},{name:"language",label:"Language Name",type:"text",inputClass:"input-class",required:!0}],S=e=>{const i=Object.keys(a).length?B:_;s(i(e)).unwrap().then(c=>{f(),r(),n(c.message,"success")}).catch(c=>{n(c,"error")})},N=()=>{s(q(a)).unwrap().then(e=>{u(),r(),s(j()),n(e.message,"success")}).catch(e=>{n(e,"error")})};l.useEffect(()=>{o.current&&a&&o.current.resetForm({...a})},[a]);const f=()=>{O(),o.current.resetForm({language:null}),s(j())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 mt-2",children:[t.jsx("h1",{className:`text-2xl font-bold text-center ${d.PRIMARY_TEXT}`,children:"Language Management"}),t.jsxs("div",{className:"flex items-center w-1/3",children:[t.jsx(G,{displayText:"Language",setSearch:k}),t.jsx("button",{onClick:g,className:`${d.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Language"})]})]}),t.jsx(X,{columns:T,dataSource:C,current:m,pageSize:h,total:M,onChange:D}),t.jsx(L,{title:Object.keys(a).length?"Edit Language":"Add Language",isOpen:w,onCancel:f,footer:null,children:t.jsx(Q,{ref:o,formConfig:v,onSubmit:S,initialValues:a,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(L,{title:"Confirm Deletion",isOpen:E,onCancel:u,onOk:N,children:t.jsx("p",{children:"Are you sure you want to delete this language?"})})]})};export{ge as default};
