import{j as e,aw as S,u as A,d as f,a as k,r as o,aA as E}from"./index-CmF4KgW5.js";import{P}from"./Pagination-BI-3gTUy.js";import{u as B}from"./usePagination-B7vAIVrj.js";import{R as C}from"./SearchOutlined-DYEco7tH.js";const M=({material:s,handleCourseClick:a})=>e.jsxs("div",{className:"flex flex-col w-full  bg-[#FFDBC4E5] cursor-pointer rounded-xl",onClick:()=>a(s.id),children:[e.jsx("div",{className:"flex-shrink-0 w-full md:h-64 h-52 rounded-t-xl overflow-hidden",children:e.jsx("img",{src:s==null?void 0:s.thumbnail_url,alt:s==null?void 0:s.title,className:"object-cover w-full h-full"})}),e.jsxs("div",{className:"flex justify-between flex-grow p-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-lg",children:s==null?void 0:s.title}),e.jsx("p",{className:"italic  line-clamp-2",children:s==null?void 0:s.description})]}),e.jsxs("div",{className:"flex flex-col justify-between shrink-0",children:[e.jsx("button",{className:" rounded-full bg-[#FF8F18] text-white px-3 py-1",children:"Buy Now"}),e.jsx("div",{className:"self-end mr-3 text-xl",children:e.jsxs("span",{children:[" â‚¹ ",s==null?void 0:s.amount]})})]})]})]}),_=()=>{const[s]=S(),a=A(),{materials:r,totalMaterials:p}=f(t=>t.material),{categories:i}=f(t=>t.category),{showToast:g}=k(),[l,n]=o.useState({category:"All"}),[w,j]=o.useState(null),[x,b]=o.useState({}),{page:u,setPage:N,limit:h,setLimit:R,search:$,setSearch:m,fetchData:v}=B(E,x,t=>{},t=>g(t,"error"));o.useEffect(()=>{v()},[x,u,h]),o.useEffect(()=>{const t=s.get("category")||"All",c=s.get("class")||null;n({category:t}),j(c)},[s]),o.useEffect(()=>{b(t=>{const c={...t};if((l==null?void 0:l.category)!=="All"){const d=i.find(F=>F.category===(l==null?void 0:l.category));c.category=d==null?void 0:d.id}else delete c.category;return c})},[l,w]);const y=t=>{a(`/notes/purchase/${t}`)};return e.jsxs("div",{className:"bg-gray-50 ",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-[#FB6000C4] pt-4 mb-8",children:" All Notes"}),e.jsx("div",{className:"bg-[#FF6B0FB2] p-5 my-5 h-fit w-full flex  whitespace-nowrap ",children:e.jsxs("div",{className:"flex   overflow-x-auto gap-8  hide-scrollbar",children:[e.jsx("span",{onClick:()=>{n({category:"All"})},className:`${l&&(l==null?void 0:l.category)=="All"?"bg-[#FF6200E5]  text-white":"bg-white text-black"} px-3 py-2 text-lg rounded-full cursor-pointer`,children:"All"}),i.map((t,c)=>e.jsx("span",{onClick:()=>{n(t)},className:`${l&&t.category==(l==null?void 0:l.category)?"bg-[#FF6200E5]  text-white":"bg-white text-black"} px-3 py-2 text-lg rounded-full cursor-pointer`,children:t.category}))]})}),e.jsx("div",{className:"p-5 relative my-5 h-fit w-full flex  whitespace-nowrap justify-center items-center ",children:e.jsxs("div",{className:"relative w-4/6 ",children:[e.jsx(C,{className:"text-2xl absolute left-4 top-2 text-white"}),e.jsx("input",{id:"search",className:"bg-[#FB6000] pl-14 border-2 border-solid text-white border-white focus-visible:border-white rounded-full py-2 px-3 w-full placeholder-white",placeholder:"Search Course",onChange:t=>m(t.target.value)})]})}),e.jsx("div",{className:"gap-3 grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 grid-cols-1 w-11/12  mx-auto",children:r==null?void 0:r.map((t,c)=>e.jsx(M,{material:t,handleCourseClick:y}))}),e.jsx(P,{total:Math.ceil(p/h),goto:N,page:u})]})};export{_ as default};
