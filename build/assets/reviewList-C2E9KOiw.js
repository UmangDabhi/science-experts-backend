import{y,u as M,d as A,h as D,a as _,r as k,j as t,a0 as S,a1 as I,a2 as P,a3 as m,a4 as E,s as O}from"./index-BHaB7y-4.js";import{A as N,R as L}from"./ActionButtons-ilL93F4W.js";import{u as z,A as B,C as X}from"./useModal-BeVb6POL.js";import{u as Y}from"./usePagination-DaoM3Tl0.js";import{S as $}from"./index-PHWjanOt.js";import"./index-C7mNA4Jn.js";import"./omit-DF6XsNz_.js";import"./SearchOutlined-D1BV3zbB.js";const Z=()=>{const{dispatch:a}=O,{courseId:h}=y();M();const{reviews:u,totalReviews:w,selectedReview:x}=A(e=>e.review),{theme:p}=D(),{showToast:o}=_(),{page:c,setPage:g,limit:l,setLimit:v,search:q,setSearch:F,fetchData:n}=Y(S,{courseId:h},e=>{},e=>o(e,"error")),{isOpen:R,openModal:f,closeModal:d}=z();k.useEffect(()=>{n()},[c,l]);const j=[{title:"Review Title",dataIndex:"review",key:"review"},{title:"Change Testimonial",dataIndex:"show_as_testimonials",key:"show_as_testimonials",render:(e,s)=>t.jsx($,{checked:e,onChange:i=>b(s,i)})},{title:"Action",key:"action",render:(e,s)=>t.jsx(N,{buttons:[{text:"Delete",onClick:()=>{a(I(s)),f()},icon:L,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],C=(e,s)=>{g(e),v(s)},T=()=>{a(P(x)).unwrap().then(e=>{d(),n(),a(m()),o(e.message,"success")}).catch(e=>{o(e,"error")})},b=(e,s)=>{const i={...e,show_as_testimonials:s};a(E(i)).unwrap().then(r=>{n(),a(m()),o(r.message,"success")}).catch(r=>{o(r,"error")})};return t.jsxs("div",{children:[t.jsx("div",{className:"flex justify-between items-center mb-4 mx-12 my-2",children:t.jsx("h1",{className:`text-2xl font-bold text-center ${p.PRIMARY_TEXT}`,children:"Review Management"})}),t.jsx(B,{columns:j,dataSource:u,current:c,pageSize:l,total:w,onChange:C}),t.jsx(X,{title:"Confirm Deletion",isOpen:R,onCancel:d,onOk:T,children:t.jsx("p",{children:"Are you sure you want to delete this Review?"})})]})};export{Z as default};
