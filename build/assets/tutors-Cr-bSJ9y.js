import{d as P,a as S,r as p,j as t,ab as D,ac as k,G as I,ad as _,ae as h,s as q}from"./index-Cw-YkOIH.js";import{D as v}from"./DynamicForm-RoaALpAp.js";import{u as x,A as L,C as g}from"./useModal-C1wsKQFO.js";import{C as l}from"./CommonClass-Dpx7ipLY.js";import{u as R}from"./usePagination-Bx6uUotu.js";import"./index-DK_3ZgSx.js";import"./omit-CyZ81oXW.js";import"./SearchOutlined-DxzJJtTe.js";const W=()=>{const{dispatch:o}=q,{tutors:f,totalTutors:T,selectedTutor:r}=P(e=>e.tutor),{showToast:s}=S(),{isOpen:b,openModal:C,closeModal:M}=x(),{isOpen:w,openModal:U,closeModal:i}=x(),d=p.useRef(),{page:u,setPage:O,limit:c,setLimit:y,search:z,setSearch:$,fetchData:n}=R(D,{},e=>{},e=>s(e,"error"));p.useEffect(()=>{n()},[u,c]);const j=(e,a)=>{O(e),y(a)},F=[{title:"Tutor Id",dataIndex:"stu_id",key:"stu_id"},{title:"Tutor Name",dataIndex:"name",key:"name"},{title:"Tutor Email",dataIndex:"email",key:"email"}],N=[Object.keys(r).length&&{name:"id",label:"id",type:"hidden"},{name:"name",label:"Tutor Name",type:"text",inputClass:l.COMMON_INPUT,required:!0},{name:"email",label:"Tutor Email",type:"email",inputClass:l.COMMON_INPUT,required:!0},{name:"password",label:"Tutor Password",type:"password",inputClass:l.COMMON_INPUT,minLength:8,required:!0,pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,message:"Password must be at least 8 characters long, include at least one uppercase letter, one lowercase letter, one digit, and one special character."},errorMessages:{required:"Password is required",minLength:"Password must be at least 8 characters",pattern:"Password must include at least one uppercase letter, one lowercase letter, one digit, and one special character."}}],A=e=>{o(k({...e,role:I.TUTOR})).unwrap().then(a=>{m(),n(),s(a.message,"success")}).catch(a=>{s(a,"error")})},E=()=>{o(_(r)).unwrap().then(e=>{i(),n(),o(h()),s(e.message,"success")}).catch(e=>{s(e,"error")})},m=()=>{M(),d.current.resetForm({name:null,role:null,email:null,password:null}),o(h())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[t.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Tutor Management"}),t.jsx("button",{onClick:C,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Tutor"})]}),t.jsx(L,{columns:F,dataSource:f,current:u,pageSize:c,total:T,onChange:j}),t.jsx(g,{title:Object.keys(r).length?"Edit Tutor":"Add Tutor",isOpen:b,onCancel:m,footer:null,children:t.jsx(v,{ref:d,formConfig:N,onSubmit:A,formClass:"space-y-8 w-full",submitClass:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(g,{title:"Confirm Deletion",isOpen:w,onCancel:i,onOk:E,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{W as default};
