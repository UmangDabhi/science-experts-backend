import{c as P,r as u,j as t,a1 as k,a2 as S,a3 as q,a4 as v,a5 as c,s as N}from"./index-0TCJKd1i.js";import{D as R}from"./DynamicForm-CuXSKoVS.js";import{u as m,A as I,C as p}from"./useModal-DLqC0a9Y.js";import{T as L}from"./Toast-CZ0DzCWe.js";import{u as z}from"./usePagination-Gq1-saOA.js";import{u as $}from"./useToast-WaxmSB6m.js";import"./index-PCWfrspn.js";import"./SearchOutlined-CcNoLOpi.js";const X=()=>{const{dispatch:a}=N,{tutors:h,totalTutors:x,selectedTutor:n}=P(e=>e.tutor),{toasts:f,showToast:o}=$(),{isOpen:g,openModal:b,closeModal:F}=m(),{isOpen:w,openModal:U,closeModal:l}=m(),d=u.useRef(),{page:T,setPage:y,limit:C,setLimit:j,search:Z,setSearch:_,fetchData:r}=z(k,{},e=>{},e=>o(e,"error"));u.useEffect(()=>{r()},[]);const M=(e,s)=>{y(e),j(s),r()},A=[{title:"Tutor Id",dataIndex:"stu_id",key:"stu_id"},{title:"Tutor Name",dataIndex:"name",key:"name"},{title:"Tutor Email",dataIndex:"email",key:"email"}],E=[Object.keys(n).length&&{name:"id",label:"id",type:"hidden"},{name:"name",label:"Tutor Name",type:"text",inputClass:" border border-[#FFA167] focus:outline-none focus:ring-1 focus:ring-[#FF6200] focus:border-[#FF6200] text-[#333] placeholder-[#888] rounded-xl shadow-md px-4 py-2 transition duration-200 ease-in-out",required:!0},{name:"email",label:"Tutor Email",type:"email",inputClass:" border border-[#FFA167] focus:outline-none focus:ring-1 focus:ring-[#FF6200] focus:border-[#FF6200] text-[#333] placeholder-[#888] rounded-xl shadow-md px-4 py-2 transition duration-200 ease-in-out",required:!0},{name:"password",label:"Tutor Password",type:"password",inputClass:" border border-[#FFA167] focus:outline-none focus:ring-1 focus:ring-[#FF6200] focus:border-[#FF6200] text-[#333] placeholder-[#888] rounded-xl shadow-md px-4 py-2 transition duration-200 ease-in-out",minLength:8,required:!0,pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/,message:"Password must be at least 8 characters long, include at least one uppercase letter, one lowercase letter, one digit, and one special character."},errorMessages:{required:"Password is required",minLength:"Password must be at least 8 characters",pattern:"Password must include at least one uppercase letter, one lowercase letter, one digit, and one special character."}}],O=e=>{a(S({...e,role:q.TUTOR})).unwrap().then(s=>{i(),r(),o(s.message,"success")}).catch(s=>{o(s,"error")})},D=()=>{a(v(n)).unwrap().then(e=>{l(),r(),a(c()),o(e.message,"success")}).catch(e=>{o(e,"error")})},i=()=>{F(),d.current.resetForm({name:null,role:null,email:null,password:null}),a(c())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[t.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Tutor Management"}),t.jsx("button",{onClick:b,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Tutor"})]}),t.jsx(I,{columns:A,dataSource:h,current:T,pageSize:C,total:x,onChange:M}),t.jsx(L,{toasts:f}),t.jsx(p,{title:Object.keys(n).length?"Edit Tutor":"Add Tutor",isOpen:g,onCancel:i,footer:null,children:t.jsx(R,{ref:d,formConfig:E,onSubmit:O,formClass:"space-y-8 w-full",submitClass:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(p,{title:"Confirm Deletion",isOpen:w,onCancel:l,onOk:D,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{X as default};
