import{ah as C,j as e,aw as k,u as A,d as m,a as E,r as n,f as P}from"./index-CmF4KgW5.js";import{R as B}from"./index-Cho6wv-l.js";import{P as R}from"./Pagination-BI-3gTUy.js";import{u as $}from"./usePagination-B7vAIVrj.js";import{R as T}from"./SearchOutlined-DYEco7tH.js";import"./index-C3X-9EqU.js";const _=({course:t,handleCourseClick:c})=>{const{rating:r,views:x,videos:o,duration:h}=C(t);return e.jsxs("div",{className:"flex flex-col w-full bg-[#FFDBC4E5] cursor-pointer rounded-xl",onClick:()=>c(t.id),children:[e.jsx("div",{className:"flex-shrink-0 w-full md:h-64 h-52 rounded-t-xl overflow-hidden",children:e.jsx("img",{src:t==null?void 0:t.thumbnail_url,alt:t==null?void 0:t.title,className:"object-cover w-full h-full"})}),e.jsxs("div",{className:"flex flex-col justify-between flex-grow p-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-lg",children:t==null?void 0:t.title}),e.jsx("p",{className:"italic line-clamp-2",children:t==null?void 0:t.description})]}),e.jsxs("div",{className:"flex flex-col justify-between shrink-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:r}),e.jsx(B,{className:"px-1",value:r,disabled:!0,allowHalf:!0}),e.jsxs("span",{children:["(",x,")"]})]}),e.jsx("div",{children:e.jsxs("span",{children:[h," Total Hours (",o," videos)"]})}),e.jsx("div",{children:e.jsx("span",{children:t!=null&&t.is_paid&&JSON.parse(t==null?void 0:t.is_paid)?`â‚¹ ${t==null?void 0:t.price}`:"Free"})})]})]})]})},G=()=>{const[t]=k(),c=A(),{courses:r,totalCourses:x}=m(a=>a.course),{categories:o}=m(a=>a.category),{standards:h}=m(a=>a.standard),{showToast:u}=E(),[s,p]=n.useState({category:"All"}),[d,v]=n.useState(null),[g,b]=n.useState({}),{page:j,setPage:N,limit:w,setLimit:D,search:H,setSearch:y,fetchData:F}=$(P,g,a=>{},a=>u(a,"error"));n.useEffect(()=>{F()},[g,j,w]),n.useEffect(()=>{const a=t.get("category")||"All",l=t.get("class")||null;p({category:a}),v(l)},[t]),n.useEffect(()=>{b(a=>{const l={...a};if((s==null?void 0:s.category)!=="All"){const i=o.find(f=>f.category===(s==null?void 0:s.category));l.category=i==null?void 0:i.id}else delete l.category;if(d){const i=h.find(f=>f.standard===d);l.standard=i==null?void 0:i.id}else delete l.standard;return l})},[s,d]);const S=a=>{c(`/course/preview/${a}`)};return e.jsxs("div",{className:"bg-gray-50 ",children:[e.jsxs("h1",{className:"text-3xl font-bold text-center text-[#FB6000C4] pt-4 mb-8",children:[" ",d||"All Courses"]}),e.jsx("div",{className:"bg-[#FF6B0FB2] p-5 my-5 h-fit w-full flex  whitespace-nowrap ",children:e.jsxs("div",{className:"flex   overflow-x-auto gap-8  hide-scrollbar",children:[e.jsx("span",{onClick:()=>{p({category:"All"})},className:`${s&&(s==null?void 0:s.category)=="All"?"bg-[#FF6200E5]  text-white":"bg-white text-black"} px-3 py-2 text-lg rounded-full cursor-pointer`,children:"All"}),o.map((a,l)=>e.jsx("span",{onClick:()=>{p(a)},className:`${s&&a.category==(s==null?void 0:s.category)?"bg-[#FF6200E5]  text-white":"bg-white text-black"} px-3 py-2 text-lg rounded-full cursor-pointer`,children:a.category}))]})}),e.jsx("div",{className:"p-5 relative my-5 h-fit w-full flex  whitespace-nowrap justify-center items-center ",children:e.jsxs("div",{className:"relative w-4/6 ",children:[e.jsx(T,{className:"text-2xl absolute left-4 top-2 text-white"}),e.jsx("input",{id:"search",className:"bg-[#FB6000] pl-14 border-2 border-solid text-white border-white focus-visible:border-white rounded-full py-2 px-3 w-full placeholder-white",placeholder:"Search Course",onChange:a=>y(a.target.value)})]})}),e.jsx("div",{className:"gap-3 grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 grid-cols-1 w-11/12  mx-auto",children:r==null?void 0:r.map((a,l)=>e.jsx(_,{course:a,handleCourseClick:S}))}),e.jsx(R,{total:Math.ceil(x/w),goto:N,page:j})]})};export{G as default};
