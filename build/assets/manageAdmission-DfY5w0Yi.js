import{z as C,r as g,f as S,a as _,u as E,e as M,bP as h,bO as R,j as r,s as O,F as m,bQ as B,bR as D}from"./index-9u-Z54xc.js";import{I,A as u}from"./Admission.Const-DuZNU8Zl.js";import{u as P,C as T}from"./useModal-CD4o3hOW.js";import{D as q}from"./DynamicForm-BU_dumUG.js";import{R as e}from"./RecordDiv-BCJG83bq.js";import"./ContextIsolator-Qp2QtNF2.js";import"./index-B0jPUqxI.js";import"./CloseCircleFilled-BAzP1kWw.js";const H=()=>{var d,p;const{dispatch:o}=O,{admissionId:s}=C(),x=g.useRef(),{selectedAdmission:a}=S(l=>l.admission),{showToast:f}=_();E();const{theme:j}=M(),{isOpen:b,openModal:v,closeModal:N}=P();g.useEffect(()=>{o(s?h({id:s}):R({id:s}))},[s]);const y=l=>{const t=m({id:s,inquiry_status:l});c(t,B)},w=l=>{const t=m({id:s,remark:l==null?void 0:l.remark});c(t,D)},c=(l,t)=>{o(t(l)).unwrap().then(n=>{i(),o(h({id:s})),f(n.message,"success")})},F=[{name:"remark",label:"Remark",type:"text",inputClass:"input-class",required:!0}],k=()=>{var l,t;switch(a==null?void 0:a.type){case u.NIOS:return r.jsx("div",{className:"grid grid-cols-6 gap-x-10 gap-y-3",children:r.jsx(e,{title:"NIOS Type",value:(l=a==null?void 0:a.nios_class_type)==null?void 0:l.replace(/_/g," ")})});case u.COLLEGE:return r.jsxs("div",{className:"grid grid-cols-6 gap-x-10 gap-y-3",children:[r.jsx(e,{title:"College",value:(t=a==null?void 0:a.college)==null?void 0:t.name}),r.jsx(e,{title:"Course",value:a==null?void 0:a.college_course})]});case u.MBBS:return r.jsx("div",{className:"grid grid-cols-6 gap-x-10 gap-y-3",children:r.jsx(e,{title:"Location",value:a==null?void 0:a.mbbs_location})});default:return null}},i=()=>{N(),x.current.resetForm({remark:null})};return r.jsxs("div",{className:"w-10/12 grid grid-cols-3 gap-x-4 mx-auto p-6 ",children:[r.jsx("h1",{className:" col-span-3 text-3xl font-bold text-center text-[#F68713] mb-8",children:"Manage Admission"}),r.jsxs("div",{className:"col-span-2 flex flex-col w-full gap-8",children:[r.jsx("div",{className:"max-w-6xl mx-auto p-6 w-full rounded-2xl shadow-formShadow border border-[#FFA167] gradient-bg",children:r.jsxs("div",{className:" grid grid-cols-6 gap-x-10 gap-y-3",children:[r.jsx(e,{title:"First Name",value:a==null?void 0:a.first_name}),r.jsx(e,{title:"Last Name",value:a==null?void 0:a.last_name}),r.jsx(e,{title:"Email Address",value:a==null?void 0:a.email}),r.jsx(e,{title:"Phone Number",value:a==null?void 0:a.phone_no}),r.jsx(e,{title:"Gender",value:a==null?void 0:a.gender}),r.jsx(e,{title:"Date of Birth",value:a==null?void 0:a.dob}),r.jsx(e,{title:"Address",value:a==null?void 0:a.address}),r.jsx(e,{title:"City",value:a==null?void 0:a.city}),r.jsx(e,{title:"State",value:a==null?void 0:a.state}),r.jsx(e,{title:"Pincode",value:a==null?void 0:a.pincode})]})}),r.jsx("div",{className:"max-w-6xl mx-auto p-6 w-full rounded-2xl shadow-formShadow border border-[#FFA167] gradient-bg",children:r.jsxs("div",{className:" grid grid-cols-6 gap-x-10 gap-y-3",children:[r.jsx(e,{title:"Last Qualification",value:a==null?void 0:a.last_qualification}),r.jsx(e,{title:"School/Institution Name",value:a==null?void 0:a.school_name}),r.jsx(e,{title:"Year of Passing",value:a==null?void 0:a.passing_year}),r.jsx(e,{title:"Percentage/CGPA",value:a==null?void 0:a.percentage})]})}),(a==null?void 0:a.type)&&r.jsx("div",{className:"max-w-6xl mx-auto p-6 w-full rounded-2xl shadow-formShadow border border-[#FFA167] gradient-bg",children:k()})]}),r.jsxs("div",{className:"flex flex-col gap-4",children:[r.jsxs("div",{className:"flex justify-evenly gap-4 items-end ",children:[r.jsxs("div",{className:"w-full",children:[r.jsx("label",{className:"block text-gray-700 font-semibold mb-2 text-left",htmlFor:name,children:"Inquiry Status"}),r.jsxs("select",{value:a==null?void 0:a.inquiry_status,onChange:l=>y(l.target.value),className:"border rounded-lg p-2 w-full input-class",children:[r.jsx("option",{value:"",children:"Select an option"}),(d=Object.entries(I).map(([l,t])=>({value:t,label:t.replace(/_/g," ")})))==null?void 0:d.map((l,t)=>r.jsx("option",{value:l==null?void 0:l.value,className:"bg-[#FFF3E0] text-[#BF360C] hover:bg-[#FFE0B2] focus:bg-[#FFE0B2]",children:l==null?void 0:l.label},t))]})]}),r.jsx("div",{className:"shrink-0",children:r.jsx("button",{onClick:()=>{v()},className:`${j.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add remark"})})]}),r.jsx("div",{className:"flex flex-col gap-3 h-[60vh] py-2 hide-scrollbar overflow-y-scroll",children:a!=null&&a.remarks?(p=a==null?void 0:a.remarks)==null?void 0:p.map(l=>{const t=new Date(l==null?void 0:l.time),n=("0"+t.getDate()).slice(-2)+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+t.getFullYear();return r.jsx("div",{className:"w-full mx-auto p-4 rounded-2xl shadow-formShadow  border border-[#FFA167] gradient-bg",children:r.jsxs("div",{className:" flex flex-col w-full gap-x-10 gap-y-1",children:[r.jsx("p",{className:"font-semibold ",children:n}),r.jsx("p",{className:"italic",children:l==null?void 0:l.remark})]})})}):r.jsx("p",{children:"No Remarks"})})]}),r.jsx(T,{title:"Add Remark",isOpen:b,onCancel:i,footer:null,children:r.jsx(q,{ref:x,formConfig:F,onSubmit:w,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] hover:bg-[#FF0000] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})]})};export{H as default};
