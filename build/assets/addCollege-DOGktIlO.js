import{x as h,e as c,r as t,a as N,u as F,C as y,d as w,bT as A,bU as M,bV as O,j as n,s as S,y as T,bW as v,bX as I}from"./index-1SOVWjLS.js";import{D as _}from"./DynamicForm-DQoLSg5y.js";import{C as u}from"./CommonClass-DJyhl18r.js";const L=()=>{const{dispatch:a}=S,{collegeId:s}=h(),{collegeCourses:d,totalCollegeCourses:j,selectedCollegeCourse:E}=c(e=>e.collegeCourse),{selectedCollege:l}=c(e=>e.college),[U,i]=t.useState({}),{showToast:m}=N(),C=F(),r=t.useRef();y();const{theme:g}=w(),p=[{name:"name",label:"College Name",type:"text",required:!0,inputClass:u.COMMON_INPUT,maxLength:100},{name:"address",label:"Address",type:"textarea",inputClass:u.COMMON_INPUT},{name:"collegeCourses",label:"Courses",inputClass:u.COMMON_INPUT,type:"multi-select",required:!0,options:d.map(e=>({label:e.name,value:e.id}))}],f=e=>{const o=T({...e});a((s?v:I)(o)).unwrap().then(b=>{C("/collegeList"),m(b.message,"success")})},x=t.useCallback(e=>{i(o=>({...o,...e}))},[]);return t.useEffect(()=>{a(s?A({id:s}):M({id:s})),a(O())},[s]),t.useEffect(()=>{if(r.current&&s){const e={id:l.id,name:l.name,address:l.address};l.collegeCourses&&(e.collegeCourses=[...l.collegeCourses].map(o=>o.id)),r.current.resetForm({...e})}else r.current.resetForm({id:null,name:null,address:null,collegeCourses:null})},[l]),n.jsxs("div",{className:`max-w-6xl mx-auto p-6 rounded-2xl shadow-formShadow my-10 border border-[#FFA167] ${g.GRADIENT_BG}`,children:[n.jsx("h1",{className:" text-3xl font-bold text-center text-[#F68713] mb-8",children:"Add College"}),n.jsx(_,{ref:r,formConfig:p,onSubmit:f,handleFieldChange:x,gridClass:"grid grid-cols-1  gap-6",formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})]})};export{L as default};
