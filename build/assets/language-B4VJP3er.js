import{d as v,a as N,r as g,j as t,E as R,aF as m,aG as I,aH as P,aI as T,aJ as h,s as _}from"./index-CoTZMpDQ.js";import{D as q}from"./DynamicForm-jhWC6lrk.js";import{A as z,R as B}from"./ActionButtons-C_oeuWbx.js";import{u as p,A as G,C as x}from"./useModal-hFaCq62G.js";import{u as H}from"./usePagination-DrexqVq0.js";import{C as J}from"./CommonClass-Dpx7ipLY.js";import{R as U}from"./EditOutlined-DZ4Qfnyk.js";import"./index-B-UYQ6pT.js";import"./omit-QKSDMMjA.js";import"./SearchOutlined-fnjF7dbk.js";const oe=()=>{const{dispatch:n}=_,{languages:f,totalLanguages:b,selectedLanguage:a}=v(e=>e.language),{showToast:o}=N(),{isOpen:C,openModal:c,closeModal:M}=p(),{isOpen:y,openModal:L,closeModal:u}=p(),s=g.useRef(),{page:j,setPage:F,limit:O,setLimit:w,search:V,setSearch:$,fetchData:l}=H(R,{},e=>{},e=>o(e,"error"));g.useEffect(()=>{l()},[]);const A=(e,r)=>{F(e),w(r),l()},E=[{title:"Language Name",dataIndex:"language",key:"language"},{title:"Action",key:"action",render:e=>t.jsx(z,{buttons:[{text:"Edit",onClick:()=>{n(m(e)),c()},icon:U,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{L(),n(m(e))},icon:B,color:{text:"text-red-600",bg:"bg-red-100",hover:"hover:bg-red-200"}}]})}],S=[Object.keys(a).length&&{name:"id",label:"id",type:"hidden"},{name:"language",label:"Language Name",type:"text",inputClass:J.COMMON_INPUT,required:!0}],k=e=>{const r=Object.keys(a).length?I:P;n(r(e)).unwrap().then(i=>{d(),l(),o(i.message,"success")}).catch(i=>{o(i,"error")})},D=()=>{n(T(a)).unwrap().then(e=>{u(),l(),n(h()),o(e.message,"success")}).catch(e=>{o(e,"error")})};g.useEffect(()=>{s.current&&a&&s.current.resetForm({...a})},[a]);const d=()=>{M(),s.current.resetForm({language:null}),n(h())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[t.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Language Management"}),t.jsx("button",{onClick:c,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Language"})]}),t.jsx(G,{columns:E,dataSource:f,current:j,pageSize:O,total:b,onChange:A}),t.jsx(x,{title:Object.keys(a).length?"Edit Language":"Add Language",isOpen:C,onCancel:d,footer:null,children:t.jsx(q,{ref:s,formConfig:S,onSubmit:k,initialValues:a,formClass:"space-y-8 w-full",submitClass:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(x,{title:"Confirm Deletion",isOpen:y,onCancel:u,onOk:D,children:t.jsx("p",{children:"Are you sure you want to delete this language?"})})]})};export{oe as default};
