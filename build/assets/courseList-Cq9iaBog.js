import{r as d,I as R,_ as I,u as T,d as m,h as q,a as E,N as $,j as o,O as D,z as P,J as S,s as _,Q as z,S as B,E as L}from"./index-JjPhpDDT.js";import{A as V,R as F}from"./ActionButtons-DBCN-f6D.js";import{u as H,A as J,C as Q}from"./useModal-C2s8J9MP.js";import{u as U}from"./usePagination-DyUZ14cW.js";import{S as X}from"./index-Sp2IMjbu.js";import{R as Y}from"./EditOutlined-MOON3C70.js";import"./index-CLWyamHD.js";import"./omit-DBQpw8q4.js";import"./SearchOutlined-DIu3R5qk.js";var G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},K=function(s,r){return d.createElement(R,I({},s,{ref:r,icon:G}))},x=d.forwardRef(K);const de=()=>{const{dispatch:a}=_,s=T(),{userData:r}=m(e=>e.auth),{courses:g,totalCourses:C,selectedCourse:v}=m(e=>e.course),{theme:c}=q(),{showToast:n}=E(),{page:u,setPage:f,limit:h,setLimit:b,search:W,setSearch:Z,fetchData:l}=U(z,{},e=>{},e=>n(e,"error")),{isOpen:w,openModal:A,closeModal:p}=H();d.useEffect(()=>{l()},[u,h]);const y=[{title:"Course Title",dataIndex:"title",key:"title"},...(r==null?void 0:r.role)==$.ADMIN?[{title:"Approval",dataIndex:"is_approved",key:"is_approved",render:(e,t)=>o.jsx(X,{onChange:i=>k(t,i),checkedChildren:"Approved",unCheckedChildren:"Not Approved",style:{backgroundColor:"#F68713"},value:e})}]:[],{title:"Action",key:"action",render:(e,t)=>o.jsx(V,{buttons:[{text:"Module",onClick:()=>{s(`/courses/module/${t.id}`)},icon:x,color:{text:"text-white",bg:"bg-green-500",hover:"hover:bg-green-600"},tooltip:"Add New"},{text:"Notes",onClick:()=>{s(`/material/${t.id}`)},icon:x,color:{text:"text-white",bg:"bg-green-500",hover:"hover:bg-green-600"},tooltip:"Add New"},{text:"Edit",onClick:()=>{s(`/addcourse/${t.id}`)},icon:Y,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{a(D(t)),A()},icon:F,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}].filter(Boolean),M=(e,t)=>{f(e),b(t)},N=()=>{s("/addcourse")},j=()=>{a(B(v)).unwrap().then(e=>{p(),l(),a(L()),n(e.message,"success")}).catch(e=>{n(e,"error")})},k=(e,t)=>{const i=P({id:e.id,is_approved:t});a(S(i)).unwrap().then(O=>{l(),n(O.message,"success")})};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 my-2",children:[o.jsx("h1",{className:`text-2xl font-bold text-center ${c.PRIMARY_TEXT}`,children:"Course Management"}),o.jsx("button",{onClick:N,className:`${c.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Course"})]}),o.jsx(J,{columns:y,dataSource:g,current:u,pageSize:h,total:C,onChange:M}),o.jsx(Q,{title:"Confirm Deletion",isOpen:w,onCancel:p,onOk:j,children:o.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{de as default};
