import{c as v,r as i,j as t,n as P,Y as p,Z as R,$ as q,a0 as z,a1 as h,s as B}from"./index-gq12ktLK.js";import{A as I}from"./ActionButtons-BiUQhC3x.js";import{u as x,A as L,C as f}from"./useModal-DLDnYem5.js";import{D as V}from"./DynamicForm-K9isAD-p.js";import{u as Y,T as Z}from"./Toast-BCn7xGeU.js";import{u as $}from"./usePagination-DMT-xorY.js";import"./index-CII06FMK.js";import"./SearchOutlined-CkQO2FyM.js";const te=()=>{const{dispatch:s}=B,{standards:g,totalStandards:b,selectedStandard:a}=v(e=>e.standard),{toasts:S,showToast:o}=Y(),{isOpen:j,openModal:c,closeModal:F}=x(),{isOpen:y,openModal:C,closeModal:u}=x(),d=i.useRef(),{page:M,setPage:w,limit:A,setLimit:E,search:G,setSearch:H,fetchData:r}=$(P,{},e=>{},e=>o(e,"error"));i.useEffect(()=>{r()},[]);const O=(e,n)=>{w(e),E(n),r()},D=[{title:"Standard Name",dataIndex:"standard",key:"standard"},{title:"Action",key:"action",render:(e,n)=>t.jsx(I,{onEdit:()=>{s(p(n)),c()},onDelete:()=>{C(),s(p(n))}})}],k=[Object.keys(a).length&&{name:"id",label:"id",type:"hidden"},{name:"standard",label:"Standard Name",type:"text",inputClass:"bg-[#F4F4F4] border-3 border-[#222] shadow-inputShadow ",required:!0}],N=e=>{const n=Object.keys(a).length?R:q;s(n(e)).unwrap().then(l=>{m(),r(),o(l.message,"success")}).catch(l=>{o(l,"error")})},T=()=>{s(z(a)).unwrap().then(e=>{u(),r(),s(h()),o(e.message,"success")}).catch(e=>{o(e,"error")})};i.useEffect(()=>{d.current&&a&&d.current.resetForm({...a})},[a]);const m=()=>{F(),d.current.resetForm({standard:null}),s(h())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[t.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Standard Management"}),t.jsx("button",{onClick:c,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Standard"})]}),t.jsx(L,{columns:D,dataSource:g,current:M,pageSize:A,total:b,onChange:O}),t.jsx(Z,{toasts:S}),t.jsx(f,{title:Object.keys(a).length?"Edit Standard":"Add Standard",isOpen:j,onCancel:m,footer:null,children:t.jsx(V,{ref:d,formConfig:k,onSubmit:N,initialValues:a,formClass:"space-y-8 w-full",submitClass:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(f,{title:"Confirm Deletion",isOpen:y,onCancel:u,onOk:T,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{te as default};
