import{v as d,d as x,r as t,aA as h,j as n,s as p}from"./index-CxfMEDwy.js";import{u as f,P as j}from"./useRazorpayPayment-BitftD29.js";import"./actions-D8dcjQ-q.js";const v=()=>{var a;const{dispatch:i}=p,{materialId:e}=d(),{selectedMaterial:s,materials:b}=x(o=>o.material),{initiatePayment:c,razorpayDivRef:y}=f(),[l,r]=t.useState(!1),u=()=>{r(!0),c({amount:s==null?void 0:s.amount,type:j.COURSE,itemId:s==null?void 0:s.id,name:s==null?void 0:s.title,description:s==null?void 0:s.description,user:{name:"John Doe",email:"John Doe",contact:"John Doe"},onSuccess:o=>{console.log("Payment Success!",o)}}).finally(()=>r(!1))};t.useEffect(()=>{e&&m()},[e]);const m=()=>{i(h({id:e}))};return n.jsxs("div",{children:[n.jsxs("div",{className:"bg-[#313131] w-full h-120 p-5 ",children:[n.jsxs("div",{className:"my-4 flex ",children:[n.jsx("div",{className:"w-64  h-auto border-2 rounded-xl border-white border-solid",children:n.jsx("img",{className:" rounded-xl",src:s==null?void 0:s.thumbnail_url,alt:"Course Thumbnail Image"})}),n.jsx("div",{className:"bg-[#313131] flex row-span-2 p-4  text-white",children:n.jsxs("div",{className:"  flex flex-col justify-between ",children:[n.jsx("h3",{className:"text-4xl",children:s==null?void 0:s.title}),n.jsxs("p",{children:["Instructor: ",(a=s==null?void 0:s.tutor)==null?void 0:a.name]}),n.jsxs("p",{children:["Last Updated on ",s==null?void 0:s.updated_at]})]})})]}),n.jsx("div",{className:"bg-[#666666] rounded-xl p-3 text-white  flex flex-col justify-between",children:n.jsx("p",{className:"flex justify-between items-center",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"w-5 h-5 bg-white rounded-full relative",children:n.jsx("span",{className:"w-3 h-3 bg-[#FF8F18] rounded-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"})}),n.jsxs("span",{children:["₹ ",s==null?void 0:s.amount," Only"]})]})})})]}),n.jsxs("div",{className:"p-6 font-bold",children:[n.jsxs("p",{className:"text-2xl flex justify-between items-center",children:[n.jsx("span",{children:"Summary"}),n.jsx("button",{onClick:u,disabled:l,className:"border-2 border-black rounded-3xl bg-[#FF8400] px-3 py-1 text-lg",children:s!=null&&s.is_paid?"Purchase Now":"Enroll Now"})]}),n.jsxs("p",{className:"text-xl ",children:["Total: ₹",s==null?void 0:s.amount]}),n.jsxs("p",{children:["No refunds or credits for unused or partial periods (unless required by law). Access starts immediately upon purchase with an initial charge of ₹",s==null?void 0:s.amount,". Recurring charges apply for continued access. To avoid future billing, cancel before the next cycle. By confirming the purchase, the user agrees to the Terms and authorizes recurring payments."]})]})]})};export{v as default};
