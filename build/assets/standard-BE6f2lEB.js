import{d as v,a as F,h as I,r as i,j as t,H as P,aa as f,ab as _,ac as L,ad as $,ae as g,s as B}from"./index-YuWDTqdT.js";import{D as U}from"./DynamicForm-DgJQWpX3.js";import{A as q,R as z}from"./ActionButtons-B1cmGrKc.js";import{u as b,A as H,C as S}from"./useModal-sBBCWYLq.js";import{u as V}from"./usePagination-Cmcdx3Ha.js";import{C as X}from"./CommonClass-DJyhl18r.js";import{R as Y}from"./EditOutlined-Cb_Kv03A.js";import"./index-ksvCFu9B.js";import"./omit-_IXkLM4f.js";import"./SearchOutlined-Cf0HateH.js";const de=()=>{const{dispatch:s}=B,{standards:C,totalStandards:M,selectedStandard:a}=v(e=>e.standard),{showToast:n}=F(),{isOpen:y,openModal:c,closeModal:O}=b(),{isOpen:j,openModal:w,closeModal:m}=b(),{theme:u}=I(),o=i.useRef(),{page:h,setPage:A,limit:p,setLimit:E,search:G,setSearch:J,fetchData:d}=V(P,{},e=>{},e=>n(e,"error"));i.useEffect(()=>{d()},[h,p]);const R=(e,r)=>{A(e),E(r)},k=[{title:"Standard Name",dataIndex:"standard",key:"standard"},{title:"Action",key:"action",render:e=>t.jsx(q,{buttons:[{text:"Edit",onClick:()=>{s(f(e)),c()},icon:Y,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{w(),s(f(e))},icon:z,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],D=[Object.keys(a).length&&{name:"id",label:"id",type:"hidden"},{name:"standard",label:"Standard Name",type:"text",inputClass:X.COMMON_INPUT,required:!0}],N=e=>{const r=Object.keys(a).length?_:L;s(r(e)).unwrap().then(l=>{x(),d(),n(l.message,"success")}).catch(l=>{n(l,"error")})},T=()=>{s($(a)).unwrap().then(e=>{m(),d(),s(g()),n(e.message,"success")}).catch(e=>{n(e,"error")})};i.useEffect(()=>{o.current&&a&&o.current.resetForm({...a})},[a]);const x=()=>{O(),o.current.resetForm({standard:null}),s(g())};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 my-2",children:[t.jsx("h1",{className:`text-2xl font-bold text-center ${u.PRIMARY_TEXT}`,children:"Standard Management"}),t.jsx("button",{onClick:c,className:`${u.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Standard"})]}),t.jsx(H,{columns:k,dataSource:C,current:h,pageSize:p,total:M,onChange:R}),t.jsx(S,{title:Object.keys(a).length?"Edit Standard":"Add Standard",isOpen:y,onCancel:x,footer:null,children:t.jsx(U,{ref:o,formConfig:D,onSubmit:N,initialValues:a,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] !hover:bg-[#F687130A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})}),t.jsx(S,{title:"Confirm Deletion",isOpen:j,onCancel:m,onOk:T,children:t.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{de as default};
