import{u as A,e as C,d as w,a as y,r as M,j as o,bA as T,bB as v,bC as R,bx as D,s as O}from"./index-BjzhHNWB.js";import{A as N,R as E}from"./ActionButtons-DZLlChLL.js";import{u as I,A as P,C as S}from"./useModal-CeA2eETP.js";import{u as $}from"./usePagination-D_Pp7t-_.js";import{R as L}from"./EditOutlined-Cicr4L2b.js";import"./index-D62oXebL.js";import"./index-BWe-oDl7.js";import"./omit-mXK9d7Ip.js";import"./SearchOutlined-DgCxFSr-.js";const Q=()=>{const{dispatch:s}=O,n=A(),{books:m,totalBooks:x,selectedBook:h}=C(e=>e.book),{theme:l}=w(),{showToast:a}=y(),{page:i,setPage:u,limit:r,setLimit:p,search:_,setSearch:z,fetchData:c}=$(T,{},()=>{},e=>a(e,"error")),{isOpen:k,openModal:b,closeModal:d}=I();M.useEffect(()=>{c()},[i,r]);const g=[{title:"Book Title",dataIndex:"title",key:"title"},{title:"Action",key:"action",render:(e,t)=>o.jsx(N,{buttons:[{text:"Edit",onClick:()=>{n(`/addBook/${t.id}`)},icon:L,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{s(v(t)),b()},icon:E,color:{text:"text-red-600",bg:"bg-red-200",hover:"hover:bg-red-300"}}]})}],f=(e,t)=>{u(e),p(t)},B=()=>{n("/addbook")},j=()=>{s(R(h)).unwrap().then(e=>{d(),c(),s(D()),a(e.message,"success")}).catch(e=>{a(e,"error")})};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12 my-2",children:[o.jsx("h1",{className:`text-2xl font-bold text-center ${l.PRIMARY_TEXT}`,children:"Book Management"}),o.jsx("button",{onClick:B,className:`${l.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add Book"})]}),o.jsx(P,{columns:g,dataSource:m,current:i,pageSize:r,total:x,onChange:f}),o.jsx(S,{title:"Confirm Deletion",isOpen:k,onCancel:d,onOk:j,children:o.jsx("p",{children:"Are you sure you want to delete this Book?"})})]})};export{Q as default};
