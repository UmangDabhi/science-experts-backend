import{x as k,r as m,e as M,a as S,u as E,d as O,bK as g,bJ as R,j as l,s as I,y as f,bL as T,bM as B}from"./index-1SOVWjLS.js";import{I as D,A as u}from"./Admission.Const-DuZNU8Zl.js";import{C as j}from"./CommonClass-DJyhl18r.js";import{u as G,C as L}from"./useModal-CfWRPnNO.js";import{D as P}from"./DynamicForm-DQoLSg5y.js";import"./ContextIsolator-GbFQ609C.js";import"./index-ACy-ARWx.js";import"./CloseCircleFilled-bPATCLPJ.js";const z=()=>{var p,h;const{dispatch:x}=I,{admissionId:t}=k(),c=m.useRef(),{selectedAdmission:a}=M(r=>r.admission),{showToast:N}=S();E();const{theme:o}=O(),{isOpen:v,openModal:b,closeModal:y}=G();m.useEffect(()=>{x(t?g({id:t}):R({id:t}))},[t]);const w=r=>{const e=f({id:t,inquiry_status:r});i(e,T)},F=r=>{const e=f({id:t,remark:r==null?void 0:r.remark});i(e,B)},i=(r,e)=>{x(e(r)).unwrap().then(n=>{d(),x(g({id:t})),N(n.message,"success")})},C=[{name:"remark",label:"Remark",type:"text",inputClass:j.COMMON_INPUT,required:!0}],s=({title:r,value:e,className:n="col-span-3"})=>l.jsxs("div",{className:` w-full flex gap-10 text-justify justify-between ${n}`,children:[l.jsx("p",{className:"font-semibold",children:r}),l.jsx("p",{className:"italic",children:e})]}),_=()=>{var r,e;switch(a==null?void 0:a.type){case u.NIOS:return l.jsx("div",{className:"grid grid-cols-6 gap-x-10 gap-y-3",children:l.jsx(s,{title:"NIOS Type",value:(r=a==null?void 0:a.nios_class_type)==null?void 0:r.replace(/_/g," ")})});case u.COLLEGE:return l.jsxs("div",{className:"grid grid-cols-6 gap-x-10 gap-y-3",children:[l.jsx(s,{title:"College",value:(e=a==null?void 0:a.college)==null?void 0:e.name}),l.jsx(s,{title:"Course",value:a==null?void 0:a.college_course})]});case u.MBBS:return l.jsx("div",{className:"grid grid-cols-6 gap-x-10 gap-y-3",children:l.jsx(s,{title:"Location",value:a==null?void 0:a.mbbs_location})});default:return null}},d=()=>{y(),c.current.resetForm({remark:null})};return l.jsxs("div",{className:"w-10/12 grid grid-cols-3 gap-x-4 mx-auto p-6 ",children:[l.jsx("h1",{className:" col-span-3 text-3xl font-bold text-center text-[#F68713] mb-8",children:"Manage Admission"}),l.jsxs("div",{className:"col-span-2 flex flex-col w-full gap-8",children:[l.jsx("div",{className:`max-w-6xl mx-auto p-6 w-full rounded-2xl shadow-formShadow border border-[#FFA167] ${o.GRADIENT_BG}`,children:l.jsxs("div",{className:" grid grid-cols-6 gap-x-10 gap-y-3",children:[l.jsx(s,{title:"First Name",value:a==null?void 0:a.first_name}),l.jsx(s,{title:"Last Name",value:a==null?void 0:a.last_name}),l.jsx(s,{title:"Email Address",value:a==null?void 0:a.email}),l.jsx(s,{title:"Phone Number",value:a==null?void 0:a.phone_no}),l.jsx(s,{title:"Gender",value:a==null?void 0:a.gender}),l.jsx(s,{title:"Date of Birth",value:a==null?void 0:a.dob}),l.jsx(s,{title:"Address",value:a==null?void 0:a.address}),l.jsx(s,{title:"City",value:a==null?void 0:a.city}),l.jsx(s,{title:"State",value:a==null?void 0:a.state}),l.jsx(s,{title:"Pincode",value:a==null?void 0:a.pincode})]})}),l.jsx("div",{className:`max-w-6xl mx-auto p-6 w-full rounded-2xl shadow-formShadow border border-[#FFA167] ${o.GRADIENT_BG}`,children:l.jsxs("div",{className:" grid grid-cols-6 gap-x-10 gap-y-3",children:[l.jsx(s,{title:"Last Qualification",value:a==null?void 0:a.last_qualification}),l.jsx(s,{title:"School/Institution Name",value:a==null?void 0:a.school_name}),l.jsx(s,{title:"Year of Passing",value:a==null?void 0:a.passing_year}),l.jsx(s,{title:"Percentage/CGPA",value:a==null?void 0:a.percentage})]})}),(a==null?void 0:a.type)&&l.jsx("div",{className:`max-w-6xl mx-auto p-6 w-full rounded-2xl shadow-formShadow border border-[#FFA167] ${o.GRADIENT_BG}`,children:_()})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex justify-evenly gap-4 items-end ",children:[l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"block text-gray-700 font-semibold mb-2 text-left",htmlFor:name,children:"Inquiry Status"}),l.jsxs("select",{value:a==null?void 0:a.inquiry_status,onChange:r=>w(r.target.value),className:`border rounded-lg p-2 w-full ${j.COMMON_INPUT}`,children:[l.jsx("option",{value:"",children:"Select an option"}),(p=Object.entries(D).map(([r,e])=>({value:e,label:e.replace(/_/g," ")})))==null?void 0:p.map((r,e)=>l.jsx("option",{value:r==null?void 0:r.value,className:"bg-[#FFF3E0] text-[#BF360C] hover:bg-[#FFE0B2] focus:bg-[#FFE0B2]",children:r==null?void 0:r.label},e))]})]}),l.jsx("div",{className:"shrink-0",children:l.jsx("button",{onClick:()=>{console.log("clicked"),b()},className:`${o.COLOR_BUTTON} text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300`,children:"Add remark"})})]}),l.jsx("div",{className:"flex flex-col gap-3 h-[60vh] py-2 hide-scrollbar overflow-y-scroll",children:a!=null&&a.remarks?(h=a==null?void 0:a.remarks)==null?void 0:h.map(r=>{const e=new Date(r==null?void 0:r.time),n=("0"+e.getDate()).slice(-2)+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+e.getFullYear();return l.jsx("div",{className:`w-full mx-auto p-4 rounded-2xl shadow-formShadow  border border-[#FFA167] ${o.GRADIENT_BG}`,children:l.jsxs("div",{className:" flex flex-col w-full gap-x-10 gap-y-1",children:[l.jsx("p",{className:"font-semibold ",children:n}),l.jsx("p",{className:"italic",children:r==null?void 0:r.remark})]})})}):l.jsx("p",{children:"No Remarks"})})]}),l.jsx(L,{title:"Add Remark",isOpen:v,onCancel:d,footer:null,children:l.jsx(P,{ref:c,formConfig:C,onSubmit:F,formClass:"space-y-8 w-full",submitClass:"!bg-[#F68713] hover:bg-[#FF0000] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300"})})]})};export{z as default};
