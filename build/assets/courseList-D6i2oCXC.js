import{r as d,I as M,_ as N,u as q,d as D,a as F,j as o,K as O,N as I,O as R,D as P,w as S,H as $,s as E}from"./index-SPnFrvr_.js";import{A as _,R as T}from"./ActionButtons-DxflG3ru.js";import{u as z,A as B,C as H}from"./useModal-nyum2VSh.js";import{u as L}from"./usePagination-BwIttMSG.js";import{S as V}from"./index-Bke6YBBp.js";import{R as K}from"./EditOutlined-BVUqO6dx.js";import"./index-D8y3FOo-.js";import"./omit-BUPFSieu.js";import"./SearchOutlined-BOG9cFhu.js";var G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},J=function(s,l){return d.createElement(M,N({},s,{ref:l,icon:G}))},u=d.forwardRef(J);const re=()=>{const{dispatch:a}=E,s=q(),{courses:l,totalCourses:h,selectedCourse:p}=D(e=>e.course),{showToast:r}=F(),{page:x,setPage:g,limit:m,setLimit:v,search:Q,setSearch:U,fetchData:n}=L(O,{},e=>{},e=>r(e,"error")),{isOpen:C,openModal:b,closeModal:c}=z();d.useEffect(()=>{n()},[]);const f=[{title:"Course Title",dataIndex:"title",key:"title"},{title:"Approval",dataIndex:"is_approved",key:"is_approved",render:(e,t)=>o.jsx(V,{onChange:i=>k(t,i),checkedChildren:"Approved",unCheckedChildren:"Not Approved",style:{backgroundColor:"#FF6200"},value:e})},{title:"Action",key:"action",render:(e,t)=>o.jsx(_,{buttons:[{text:"Module",onClick:()=>{s(`/courses/module/${t.id}`)},icon:u,color:{text:"text-white",bg:"bg-green-500",hover:"hover:bg-green-600"},tooltip:"Add New"},{text:"Material",onClick:()=>{s(`/material/${t.id}`)},icon:u,color:{text:"text-white",bg:"bg-green-500",hover:"hover:bg-green-600"},tooltip:"Add New"},{text:"Edit",onClick:()=>{s(`/addcourse/${t.id}`)},icon:K,color:{text:"text-yellow-700",bg:"bg-yellow-100",hover:"hover:bg-yellow-200"}},{text:"Delete",onClick:()=>{a(I(t)),b()},icon:T,color:{text:"text-red-600",bg:"bg-red-100",hover:"hover:bg-red-200"}}]})}],w=(e,t)=>{g(e),v(t),n()},A=()=>{s("/addcourse")},j=()=>{a(R(p)).unwrap().then(e=>{c(),n(),a(P()),r(e.message,"success")}).catch(e=>{r(e,"error")})},k=(e,t)=>{const i=S({id:e.id,is_approved:t});a($(i)).unwrap().then(y=>{n(),r(y.message,"success")})};return o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 mx-12",children:[o.jsx("h1",{className:"text-2xl font-bold text-center text-[#FF6200]",children:"Course Management"}),o.jsx("button",{onClick:A,className:"!bg-[#FF6200] !hover:bg-[#FF62000A] text-white font-semibold px-6 py-3 rounded-xl shadow-lg transition duration-300",children:"Add Course"})]}),o.jsx(B,{columns:f,dataSource:l,current:x,pageSize:m,total:h,onChange:w}),o.jsx(H,{title:"Confirm Deletion",isOpen:C,onCancel:c,onOk:j,children:o.jsx("p",{children:"Are you sure you want to delete this standard?"})})]})};export{re as default};
